#!/usr/bin/env rails runner

puts "\nğŸ¤– Testing Agora Models Connection...\n"
puts "=" * 50

AGORA_MODELS.each do |config|
  puts "\nTesting #{config[:user_name]} (#{config[:publisher]}/#{config[:model_name]})..."

  begin
    client = Agora::LLMClient.client_for(config)

    # Simple prompt to verify identity/responsiveness
    response = client.ask("Briefly introduce yourself in 1 sentence.")

    if response.content.present?
      puts "âœ… Success: \"#{response.content.strip}\""
    else
      puts "âš ï¸  Empty Response (Check Logs)"
    end

  rescue => e
    puts "âŒ Failed: #{e.message}"
    puts "   Tip: Check publisher/model_name in constants.rb"
  end
  puts "-" * 50
end

puts "\nDone.\n"
