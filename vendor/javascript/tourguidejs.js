// tourguidejs@1.1.5 downloaded from https://ga.jspm.io/npm:tourguidejs@1.1.5/tourguide.esm.js

function _iterableToArrayLimit(e,p){var _=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=_){var C,S,j,N,H=[],M=!0,P=!1;try{if(j=(_=_.call(e)).next,0===p){if(Object(_)!==_)return;M=!1}else for(;!(M=(C=j.call(_)).done)&&(H.push(C.value),H.length!==p);M=!0);}catch(e){P=!0,S=e}finally{try{if(!M&&null!=_.return&&(N=_.return(),Object(N)!==N))return}finally{if(P)throw S}}return H}}function ownKeys(e,p){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(e);p&&(C=C.filter((function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable}))),_.push.apply(_,C)}return _}function _objectSpread2(e){for(var p=1;p<arguments.length;p++){var _=null!=arguments[p]?arguments[p]:{};p%2?ownKeys(Object(_),!0).forEach((function(p){_defineProperty(e,p,_[p])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach((function(p){Object.defineProperty(e,p,Object.getOwnPropertyDescriptor(_,p))}))}return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,p){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,p){for(var _=0;_<p.length;_++){var C=p[_];C.enumerable=C.enumerable||false;C.configurable=true;"value"in C&&(C.writable=true);Object.defineProperty(e,_toPropertyKey(C.key),C)}}function _createClass(e,p,_){p&&_defineProperties(e.prototype,p);_&&_defineProperties(e,_);Object.defineProperty(e,"prototype",{writable:false});return e}function _defineProperty(e,p,_){p=_toPropertyKey(p);p in e?Object.defineProperty(e,p,{value:_,enumerable:true,configurable:true,writable:true}):e[p]=_;return e}function _slicedToArray(e,p){return _arrayWithHoles(e)||_iterableToArrayLimit(e,p)||_unsupportedIterableToArray(e,p)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,p){if(e){if("string"===typeof e)return _arrayLikeToArray(e,p);var _=Object.prototype.toString.call(e).slice(8,-1);"Object"===_&&e.constructor&&(_=e.constructor.name);return"Map"===_||"Set"===_?Array.from(e):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray(e,p):void 0}}function _arrayLikeToArray(e,p){(null==p||p>e.length)&&(p=e.length);for(var _=0,C=new Array(p);_<p;_++)C[_]=e[_];return C}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toPrimitive(e,p){if("object"!==typeof e||null===e)return e;var _=e[Symbol.toPrimitive];if(void 0!==_){var C=_.call(e,p||"default");if("object"!==typeof C)return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(e)}function _toPropertyKey(e){var p=_toPrimitive(e,"string");return"symbol"===typeof p?p:String(p)}var e={exports:{}};(function(e){var u=function(e,p){return this instanceof u?e instanceof u?e:((e="string"==typeof e?this.select(e,p):e)&&e.nodeName&&(e=[e]),void(this.nodes=this.slice(e))):new u(e,p)};u.prototype={get length(){return this.nodes.length}},u.prototype.nodes=[],u.prototype.addClass=function(){return this.eacharg(arguments,(function(e,p){e.classList.add(p)}))},u.prototype.adjacent=function(e,p,_){return"number"==typeof p&&(p=0===p?[]:new Array(p).join().split(",").map(Number.call,Number)),this.each((function(C,S){var j=document.createDocumentFragment();u(p||{}).map((function(p,_){_="function"==typeof e?e.call(this,p,_,C,S):e;return"string"==typeof _?this.generate(_):u(_)})).each((function(e){this.isInPage(e)?j.appendChild(u(e).clone().first()):j.appendChild(e)})),_.call(this,C,j)}))},u.prototype.after=function(e,p){return this.adjacent(e,p,(function(e,p){e.parentNode.insertBefore(p,e.nextSibling)}))},u.prototype.append=function(e,p){return this.adjacent(e,p,(function(e,p){e.appendChild(p)}))},u.prototype.args=function(e,p,_){return(e="string"!=typeof(e="function"==typeof e?e(p,_):e)?this.slice(e).map(this.str(p,_)):e).toString().split(/[\s,]+/).filter((function(e){return e.length}))},u.prototype.array=function(e){var p=this;return this.nodes.reduce((function(_,C,S){var j;return e?(j="string"==typeof(j=(j=e.call(p,C,S))||!1)?u(j):j)instanceof u&&(j=j.nodes):j=C.innerHTML,_.concat(!1!==j?j:[])}),[])},u.prototype.attr=function(e,p,_){return _=_?"data-":"",this.pairs(e,p,(function(e,p){return e.getAttribute(_+p)}),(function(e,p,C){C?e.setAttribute(_+p,C):e.removeAttribute(_+p)}))},u.prototype.before=function(e,p){return this.adjacent(e,p,(function(e,p){e.parentNode.insertBefore(p,e)}))},u.prototype.children=function(e){return this.map((function(e){return this.slice(e.children)})).filter(e)},u.prototype.clone=function(){return this.map((function(e,p){var _=e.cloneNode(!0),C=this.getAll(_);return this.getAll(e).each((function(e,p){for(var _ in this.mirror)this.mirror[_]&&this.mirror[_](e,C.nodes[p])})),_}))},u.prototype.getAll=function(e){return u([e].concat(u("*",e).nodes))},u.prototype.mirror={},u.prototype.mirror.events=function(e,p){if(e._e)for(var _ in e._e)e._e[_].forEach((function(e){u(p).on(_,e.callback)}))},u.prototype.mirror.select=function(e,p){u(e).is("select")&&(p.value=e.value)},u.prototype.mirror.textarea=function(e,p){u(e).is("textarea")&&(p.value=e.value)},u.prototype.closest=function(e){return this.map((function(p){do{if(u(p).is(e))return p}while((p=p.parentNode)&&p!==document)}))},u.prototype.data=function(e,p){return this.attr(e,p,!0)},u.prototype.each=function(e){return this.nodes.forEach(e.bind(this)),this},u.prototype.eacharg=function(e,p){return this.each((function(_,C){this.args(e,_,C).forEach((function(e){p.call(this,_,e)}),this)}))},u.prototype.empty=function(){return this.each((function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))},u.prototype.filter=function(e){var p=e instanceof u?function(p){return-1!==e.nodes.indexOf(p)}:"function"==typeof e?e:function(p){return p.matches=p.matches||p.msMatchesSelector||p.webkitMatchesSelector,p.matches(e||"*")};return u(this.nodes.filter(p))},u.prototype.find=function(e){return this.map((function(p){return u(e||"*",p)}))},u.prototype.first=function(){return this.nodes[0]||!1},u.prototype.generate=function(e){return/^\s*<tr[> ]/.test(e)?u(document.createElement("table")).html(e).children().children().nodes:/^\s*<t(h|d)[> ]/.test(e)?u(document.createElement("table")).html(e).children().children().children().nodes:/^\s*</.test(e)?u(document.createElement("div")).html(e).children().nodes:document.createTextNode(e)},u.prototype.handle=function(){var e=this.slice(arguments).map((function(e){return"function"==typeof e?function(p){p.preventDefault(),e.apply(this,arguments)}:e}),this);return this.on.apply(this,e)},u.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},u.prototype.html=function(e){return void 0===e?this.first().innerHTML||"":this.each((function(p){p.innerHTML=e}))},u.prototype.is=function(e){return 0<this.filter(e).length},u.prototype.isInPage=function(e){return e!==document.body&&document.body.contains(e)},u.prototype.last=function(){return this.nodes[this.length-1]||!1},u.prototype.map=function(e){return e?u(this.array(e)).unique():this},u.prototype.not=function(e){return this.filter((function(p){return!u(p).is(e||!0)}))},u.prototype.off=function(e,p,_){var C=null==p&&null==_,S=null,j=p;return"string"==typeof p&&(S=p,j=_),this.eacharg(e,(function(e,p){u(e._e?e._e[p]:[]).each((function(_){(C||_.orig_callback===j&&_.selector===S)&&e.removeEventListener(p,_.callback)}))}))},u.prototype.on=function(e,p,_){function i(e,p){try{Object.defineProperty(e,"currentTarget",{value:p,configurable:!0})}catch(e){}}var C=null,S=p;"string"==typeof p&&(C=p,S=_,p=function(e){var p=arguments;u(e.currentTarget).find(C).each((function(C){var S;C.contains(e.target)&&(S=e.currentTarget,i(e,C),_.apply(C,p),i(e,S))}))});function r(e){return p.apply(this,[e].concat(e.detail||[]))}return this.eacharg(e,(function(e,p){e.addEventListener(p,r),e._e=e._e||{},e._e[p]=e._e[p]||[],e._e[p].push({callback:r,orig_callback:S,selector:C})}))},u.prototype.pairs=function(e,p,_,C){var S;return void 0!==p&&(S=e,(e={})[S]=p),"object"==typeof e?this.each((function(p,_){for(var S in e)"function"==typeof e[S]?C(p,S,e[S](p,_)):C(p,S,e[S])})):this.length?_(this.first(),e):""},u.prototype.param=function(e){return Object.keys(e).map(function(p){return this.uri(p)+"="+this.uri(e[p])}.bind(this)).join("&")},u.prototype.parent=function(e){return this.map((function(e){return e.parentNode})).filter(e)},u.prototype.prepend=function(e,p){return this.adjacent(e,p,(function(e,p){e.insertBefore(p,e.firstChild)}))},u.prototype.remove=function(){return this.each((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},u.prototype.removeClass=function(){return this.eacharg(arguments,(function(e,p){e.classList.remove(p)}))},u.prototype.replace=function(e,p){var _=[];return this.adjacent(e,p,(function(e,p){_=_.concat(this.slice(p.children)),e.parentNode.replaceChild(p,e)})),u(_)},u.prototype.scroll=function(){return this.first().scrollIntoView({behavior:"smooth"}),this},u.prototype.select=function(e,p){return e=e.replace(/^\s*/,"").replace(/\s*$/,""),/^</.test(e)?u().generate(e):(p||document).querySelectorAll(e)},u.prototype.serialize=function(){var e=this;return this.slice(this.first().elements).reduce((function(p,_){return!_.name||_.disabled||"file"===_.type||/(checkbox|radio)/.test(_.type)&&!_.checked?p:"select-multiple"===_.type?(u(_.options).each((function(C){C.selected&&(p+="&"+e.uri(_.name)+"="+e.uri(C.value))})),p):p+"&"+e.uri(_.name)+"="+e.uri(_.value)}),"").slice(1)},u.prototype.siblings=function(e){return this.parent().children(e).not(this)},u.prototype.size=function(){return this.first().getBoundingClientRect()},u.prototype.slice=function(e){return e&&0!==e.length&&"string"!=typeof e&&"[object Function]"!==e.toString()?e.length?[].slice.call(e.nodes||e):[e]:[]},u.prototype.str=function(e,p){return function(_){return"function"==typeof _?_.call(this,e,p):_.toString()}},u.prototype.text=function(e){return void 0===e?this.first().textContent||"":this.each((function(p){p.textContent=e}))},u.prototype.toggleClass=function(e,p){return!!p===p?this[p?"addClass":"removeClass"](e):this.eacharg(e,(function(e,p){e.classList.toggle(p)}))},u.prototype.trigger=function(e){var p=this.slice(arguments).slice(1);return this.eacharg(e,(function(e,_){var C,S={bubbles:!0,cancelable:!0,detail:p};try{C=new window.CustomEvent(_,S)}catch(e){(C=document.createEvent("CustomEvent")).initCustomEvent(_,!0,!0,p)}e.dispatchEvent(C)}))},u.prototype.unique=function(){return u(this.nodes.reduce((function(e,p){return null!=p&&!1!==p&&-1===e.indexOf(p)?e.concat(p):e}),[]))},u.prototype.uri=function(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},u.prototype.wrap=function(e){return this.map((function(p){return u(e).each((function(e){!function(e){for(;e.firstElementChild;)e=e.firstElementChild;return u(e)}(e).append(p.cloneNode(!0)),p.parentNode.replaceChild(e,p)}))}))},e.exports&&(e.exports=u,e.exports.u=u)})(e);var p=e.exports;var _='<svg id="GuidedTourIconSet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">\n<symbol id="tour-icon-close" viewBox="0 0 20 20"><g fill="none" stroke="currentColor" stroke-width="2"><path d="M16,16 L4,4"></path><path d="M16,4 L4,16"></path></g></symbol>\n<symbol id="tour-icon-next" viewBox="0 0 20 20"><polyline points="7 4 13 10 7 16" fill="none" stroke="currentColor" stroke-width="1"></polyline></symbol>\n<symbol id="tour-icon-prev" viewBox="0 0 20 20"><polyline points="12 4 6 10 12 16" fill="none" stroke="currentColor" stroke-width="1"></polyline></symbol>\n<symbol id="tour-icon-complete" viewBox="0 0 20 20"><polyline points="4,10 8,15 17,4" fill="none" stroke="currentColor" stroke-width="1"></polyline></symbol>\n</svg>';var C="complete",S="canceled";function raf(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}function setElementScroll$1(e,p,_){if(e.self===e)e.scrollTo(p,_);else{e.scrollLeft=p;e.scrollTop=_}}function getTargetScrollLocation(e,p){var _,C,S,j,N,H,M,P=e.align,I=e.target,B=I.getBoundingClientRect(),W=P&&null!=P.left?P.left:.5,z=P&&null!=P.top?P.top:.5,V=P&&null!=P.leftOffset?P.leftOffset:0,q=P&&null!=P.topOffset?P.topOffset:0,X=W,Y=z;if(e.isWindow(p)){H=Math.min(B.width,p.innerWidth);M=Math.min(B.height,p.innerHeight);C=B.left+p.pageXOffset-p.innerWidth*X+H*X;S=B.top+p.pageYOffset-p.innerHeight*Y+M*Y;C-=V;S-=q;C=e.align.lockX?p.pageXOffset:C;S=e.align.lockY?p.pageYOffset:S;j=C-p.pageXOffset;N=S-p.pageYOffset}else{H=B.width;M=B.height;_=p.getBoundingClientRect();var J=B.left-(_.left-p.scrollLeft);var G=B.top-(_.top-p.scrollTop);C=J+H*X-p.clientWidth*X;S=G+M*Y-p.clientHeight*Y;C-=V;S-=q;C=Math.max(Math.min(C,p.scrollWidth-p.clientWidth),0);S=Math.max(Math.min(S,p.scrollHeight-p.clientHeight),0);C=e.align.lockX?p.scrollLeft:C;S=e.align.lockY?p.scrollTop:S;j=C-p.scrollLeft;N=S-p.scrollTop}return{x:C,y:S,differenceX:j,differenceY:N}}function animate(e){var p=e._scrollSettings;if(p){var _=p.maxSynchronousAlignments;var S=getTargetScrollLocation(p,e),j=Date.now()-p.startTime,N=Math.min(1/p.time*j,1);if(p.endIterations>=_){setElementScroll$1(e,S.x,S.y);e._scrollSettings=null;return p.end(C)}var H=1-p.ease(N);setElementScroll$1(e,S.x-S.differenceX*H,S.y-S.differenceY*H);if(j>=p.time){p.endIterations++;p.scrollAncestor&&animate(p.scrollAncestor);animate(e)}else raf(animate.bind(null,e))}}function defaultIsWindow(e){return e.self===e}function transitionScrollTo(e,p,_,C,j){var N,H=!p._scrollSettings,M=p._scrollSettings,P=Date.now(),I={passive:true};M&&M.end(S);function end(e){p._scrollSettings=null;p.parentElement&&p.parentElement._scrollSettings&&p.parentElement._scrollSettings.end(e);_.debug&&console.log("Scrolling ended with type",e,"for",p);j(e);if(N){p.removeEventListener("touchstart",N,I);p.removeEventListener("wheel",N,I)}}var B=_.maxSynchronousAlignments;null==B&&(B=3);p._scrollSettings={startTime:P,endIterations:0,target:e,time:_.time,ease:_.ease,align:_.align,isWindow:_.isWindow||defaultIsWindow,maxSynchronousAlignments:B,end:end,scrollAncestor:C};if(!("cancellable"in _)||_.cancellable){N=end.bind(null,S);p.addEventListener("touchstart",N,I);p.addEventListener("wheel",N,I)}H&&animate(p);return N}function defaultIsScrollable(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function defaultValidTarget(){return true}function findParentElement(e){if(e.assignedSlot)return findParentElement(e.assignedSlot);if(e.parentElement)return"BODY"===e.parentElement.tagName?e.parentElement.ownerDocument.defaultView||e.parentElement.ownerDocument.ownerWindow:e.parentElement;if(e.getRootNode){var p=e.getRootNode();if(11===p.nodeType)return p.host}}var scrollIntoView=function(e,p,_){if(e){if("function"===typeof p){_=p;p=null}p||(p={});p.time=isNaN(p.time)?1e3:p.time;p.ease=p.ease||function(e){return 1-Math.pow(1-e,e/2)};p.align=p.align||{};var S=findParentElement(e),j=1;var N=p.validTarget||defaultValidTarget;var H=p.isScrollable;if(p.debug){console.log("About to scroll to",e);S||console.error("Target did not have a parent, is it mounted in the DOM?")}var M=[];while(S){p.debug&&console.log("Scrolling parent node",S);if(N(S,j)&&(H?H(S,defaultIsScrollable):defaultIsScrollable(S))){j++;M.push(S)}S=findParentElement(S);if(!S){done(C);break}}return M.reduce(((_,C,S)=>transitionScrollTo(e,C,p,M[S+1],done)),null)}function done(e){j--;j||_&&_(e)}};function assert(e,p){if(!e)throw"TourguideJS: ".concat(p);return true}function clamp(e,p,_){p=isNaN(p)?e:p;_=isNaN(_)?e:_;return Math.max(p,Math.min(e,_))}function getDataContents(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var _=e.split(";");var C=_objectSpread2({},p);_.forEach((function(e){var p=(e||"").split(":");C[(p[0]||"").trim()]=(p[1]||"").trim()}));return C}function isTargetValid(e){return e&&null!==e.offsetParent}
/**
 * getting bounding client rect and additional properties
 * @param {Element | string} element target element or selector
 * @param {Element} root root element
 * @returns {{ width: number, height: number, top: number, bottom: number, left: number, right: number, viewTop: number, viewBottom: number, viewLeft: number, viewRight: number }} object
 */function getBoundingClientRect(e,_){var C=p(e).size();var S=getViewportRect(_);return{width:C.width,height:C.height,top:C.top+S.scrollY,bottom:C.bottom+S.scrollY,left:C.left+S.scrollX,right:C.right+S.scrollX,viewTop:C.top,viewBottom:C.bottom,viewLeft:C.left,viewRight:C.right}}
/**
 * getting viewport rect and additional properties
 * @param {Element | string} element target element or selector
 * @returns {{ width: number, height: number, scrollX: number, scrollY: number, rootWidth: number, rootHeight: number, rootTop: number, rootLeft: number }} object
 */function getViewportRect(e){try{var _=p(e).size();return{width:window.innerWidth,height:window.innerHeight,scrollX:window.scrollX,scrollY:window.scrollY,rootWidth:_.width,rootHeight:_.height,rootTop:_.top,rootLeft:_.left}}catch(p){console.error(p);throw Error("element is invalid: ".concat(e))}}function setStyle(e,_){Object.keys(_).forEach((function(e){"number"===typeof _[e]&&(_[e]=Math.floor(_[e])+"px")}));Object.assign(p(e).first().style,_)}
/**
 * convert the color object to the sets of css variables
 * @param {Object<string, string | number>} colors color object
 * @param {string} [prefix] prefix of css variable name. default: "--tourguide"
 * @param {string} [selector] target css selector. default: ":root"
 * @returns {string} converted string
 * @example
 *  input: { overlay: "gray", background: "white", bulletCurrent: "red" }
 *  output: ":root { --tourguide-overlay: gray; --tourguide-background: white; --tourguide-bullet-current: red; }"
 */function colorObjToStyleVarString(e){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--tourguide";var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":host";var C=[];Object.entries(e).forEach((function(e){var _=_slicedToArray(e,2),S=_[0],j=_[1];var N=[p];var H=0;for(var M=0;M<S.length;M+=1)if("A"<=S[M]&&S[M]<="Z"){N.push(S.substring(H,M).toLowerCase());H=M}N.push(S.substring(H,S.length).toLowerCase());C.push("".concat(N.join("-"),": ").concat(j))}));return"".concat(_," {\n").concat(C.join(";\n"),";\n}")}
/**
 * scroll element by coordinates (cross browser support)
 * @param {Element} element target element
 * @param {number} x scroll offset from left
 * @param {number} y scroll offset from top
 */function setElementScroll(e,p,_){if(e.self===e)e.scrollTo(p,_);else{e.scrollLeft=p;e.scrollTop=_}}
/**
 * Smooth scroll element by coordinates (cross browser support)
 * @param {{ element: Element, x: number, y: number }[]} scrollItems
 * @param {number} time duration time
 */function animateScroll(e,p){var _=Date.now();function raf(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}function ease(e){return 1-Math.pow(1-e,e/2)}function animate(e,C,S){if(e){var j=Date.now()-_;var N=Math.min(1/p*j,1);var H=1-ease(N);var M=C-e.scrollLeft;var P=S-e.scrollTop;setElementScroll(e,C-M*H,S-P*H);j>=p?setElementScroll(e,C,S):raf(animate.bind(null,e,C,S))}else console.warn("target element ".concat(e," not found, skip"))}e.forEach((function(e){animate(e.element,e.x,e.y)}))}
/**
 * Getting scroll coordinates (cross browser support)
 * @param {Element | string} target target element
 * @returns {{ element: Element, x: number, y: number }[]} scrollItems
 */function getScrollCoordinates(e){var _=[];var C=p(e);do{C||(C=false);C.first()||(C=false);try{var S=C.first();S.scrollHeight===S.height&&S.scrollWidth===S.width||_.push({element:C.first(),x:C.first().scrollLeft,y:C.first().scrollTop});C=C.parent()}catch(e){C=false}}while(C);return _}function getMaxZIndex(){return Math.max.apply(Math,_toConsumableArray(Array.from(document.querySelectorAll("body *"),(function(e){return parseFloat(window.getComputedStyle(e).zIndex)})).filter((function(e){return!Number.isNaN(e)}))).concat([0]))}function t$1(e){return e.split("-")[0]}function e$1(e){return e.split("-")[1]}function n$2(e){return["top","bottom"].includes(t$1(e))?"x":"y"}function i$1(e){return"y"===e?"height":"width"}function r$2(e,p,_){let{reference:C,floating:S}=e;const j=C.x+C.width/2-S.width/2,N=C.y+C.height/2-S.height/2,H=n$2(p),M=i$1(H),P=C[M]/2-S[M]/2,I="x"===H;let B;switch(t$1(p)){case"top":B={x:j,y:C.y-S.height};break;case"bottom":B={x:j,y:C.y+C.height};break;case"right":B={x:C.x+C.width,y:N};break;case"left":B={x:C.x-S.width,y:N};break;default:B={x:C.x,y:C.y}}switch(e$1(p)){case"start":B[H]-=P*(_&&I?-1:1);break;case"end":B[H]+=P*(_&&I?-1:1)}return B}const o$1=async(e,p,_)=>{const{placement:C="bottom",strategy:S="absolute",middleware:j=[],platform:N}=_,H=j.filter(Boolean),M=await(null==N.isRTL?void 0:N.isRTL(p));let P=await N.getElementRects({reference:e,floating:p,strategy:S}),{x:I,y:B}=r$2(P,C,M),W=C,z={},V=0;for(let _=0;_<H.length;_++){const{name:j,fn:q}=H[_],{x:X,y:Y,data:J,reset:G}=await q({x:I,y:B,initialPlacement:C,placement:W,strategy:S,middlewareData:z,rects:P,platform:N,elements:{reference:e,floating:p}});I=null!=X?X:I,B=null!=Y?Y:B,z={...z,[j]:{...z[j],...J}},G&&V<=50&&(V++,"object"==typeof G&&(G.placement&&(W=G.placement),G.rects&&(P=!0===G.rects?await N.getElementRects({reference:e,floating:p,strategy:S}):G.rects),({x:I,y:B}=r$2(P,W,M))),_=-1)}return{x:I,y:B,placement:W,strategy:S,middlewareData:z}};function a$1(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function l$1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function s$1(e,p){var _;void 0===p&&(p={});const{x:C,y:S,platform:j,rects:N,elements:H,strategy:M}=e,{boundary:P="clippingAncestors",rootBoundary:I="viewport",elementContext:B="floating",altBoundary:W=!1,padding:z=0}=p,V=a$1(z),q=H[W?"floating"===B?"reference":"floating":B],X=l$1(await j.getClippingRect({element:null==(_=await(null==j.isElement?void 0:j.isElement(q)))||_?q:q.contextElement||await(null==j.getDocumentElement?void 0:j.getDocumentElement(H.floating)),boundary:P,rootBoundary:I,strategy:M})),Y="floating"===B?{...N.floating,x:C,y:S}:N.reference,J=await(null==j.getOffsetParent?void 0:j.getOffsetParent(H.floating)),G=await(null==j.isElement?void 0:j.isElement(J))&&await(null==j.getScale?void 0:j.getScale(J))||{x:1,y:1},K=l$1(j.convertOffsetParentRelativeRectToViewportRelativeRect?await j.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Y,offsetParent:J,strategy:M}):Y);return{top:(X.top-K.top+V.top)/G.y,bottom:(K.bottom-X.bottom+V.bottom)/G.y,left:(X.left-K.left+V.left)/G.x,right:(K.right-X.right+V.right)/G.x}}const j=Math.min,N=Math.max;function u$1(e,p,_){return N(e,j(p,_))}const m$1=e=>({name:"arrow",options:e,async fn(p){const{element:_,padding:C=0}=null!=e?e:{},{x:S,y:j,placement:N,rects:H,platform:M}=p;if(null==_)return{};const P=a$1(C),I={x:S,y:j},B=n$2(N),W=e$1(N),z=i$1(B),V=await M.getDimensions(_),q="y"===B?"top":"left",X="y"===B?"bottom":"right",Y=H.reference[z]+H.reference[B]-I[B]-H.floating[z],J=I[B]-H.reference[B],G=await(null==M.getOffsetParent?void 0:M.getOffsetParent(_));let K=G?"y"===B?G.clientHeight||0:G.clientWidth||0:0;0===K&&(K=H.floating[z]);const U=Y/2-J/2,Z=P[q],Q=K-V[z]-P[X],tt=K/2-V[z]/2+U,et=u$1(Z,tt,Q),nt=("start"===W?P[q]:P[X])>0&&tt!==et&&H.reference[z]<=H.floating[z];return{[B]:I[B]-(nt?tt<Z?Z-tt:Q-tt:0),data:{[B]:et,centerOffset:tt-et}}}}),H={left:"right",right:"left",bottom:"top",top:"bottom"};function d$1(e){return e.replace(/left|right|bottom|top/g,(e=>H[e]))}function p$1(e,p,_){void 0===_&&(_=!1);const C=e$1(e),S=n$2(e),j=i$1(S);let N="x"===S?C===(_?"end":"start")?"right":"left":"start"===C?"bottom":"top";return p.reference[j]>p.floating[j]&&(N=d$1(N)),{main:N,cross:d$1(N)}}const M={start:"end",end:"start"};function y$1(e){return e.replace(/start|end/g,(e=>M[e]))}const P=["top","right","bottom","left"],I=P.reduce(((e,p)=>e.concat(p,p+"-start",p+"-end")),[]);const v$1=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(p){var _,C,S,j,N;const{x:H,y:M,rects:P,middlewareData:B,placement:W,platform:z,elements:V}=p,{alignment:q=null,allowedPlacements:X=I,autoAlignment:Y=!0,...J}=e,G=function(e,p,_){return(e?[..._.filter((p=>e$1(p)===e)),..._.filter((p=>e$1(p)!==e))]:_.filter((e=>t$1(e)===e))).filter((_=>!e||e$1(_)===e||!!p&&y$1(_)!==_))}(q,Y,X),K=await s$1(p,J),U=null!=(_=null==(C=B.autoPlacement)?void 0:C.index)?_:0,Z=G[U];if(null==Z)return{};const{main:Q,cross:tt}=p$1(Z,P,await(null==z.isRTL?void 0:z.isRTL(V.floating)));if(W!==Z)return{x:H,y:M,reset:{placement:G[0]}};const et=[K[t$1(Z)],K[Q],K[tt]],nt=[...null!=(S=null==(j=B.autoPlacement)?void 0:j.overflows)?S:[],{placement:Z,overflows:et}],ot=G[U+1];if(ot)return{data:{index:U+1,overflows:nt},reset:{placement:ot}};const it=nt.slice().sort(((e,p)=>e.overflows[0]-p.overflows[0])),rt=null==(N=it.find((e=>{let{overflows:p}=e;return p.every((e=>e<=0))})))?void 0:N.placement,st=null!=rt?rt:it[0].placement;return st!==W?{data:{index:U+1,overflows:nt},reset:{placement:st}}:{}}}};const T$1=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(p){const{x:_,y:C}=p,S=await async function(e,p){const{placement:_,platform:C,elements:S}=e,j=await(null==C.isRTL?void 0:C.isRTL(S.floating)),N=t$1(_),H=e$1(_),M="x"===n$2(_),P=["left","top"].includes(N)?-1:1,I=j&&M?-1:1,B="function"==typeof p?p(e):p;let{mainAxis:W,crossAxis:z,alignmentAxis:V}="number"==typeof B?{mainAxis:B,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...B};return H&&"number"==typeof V&&(z="end"===H?-1*V:V),M?{x:z*I,y:W*P}:{x:W*P,y:z*I}}(p,e);return{x:_+S.x,y:C+S.y,data:S}}}};function n$1(e){var p;return(null==(p=e.ownerDocument)?void 0:p.defaultView)||window}function o(e){return n$1(e).getComputedStyle(e)}function i(e){return f(e)?(e.nodeName||"").toLowerCase():""}let B;function l(){if(B)return B;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(B=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),B):navigator.userAgent}function c(e){return e instanceof n$1(e).HTMLElement}function s(e){return e instanceof n$1(e).Element}function f(e){return e instanceof n$1(e).Node}function u(e){return"undefined"!=typeof ShadowRoot&&(e instanceof n$1(e).ShadowRoot||e instanceof ShadowRoot)}function a(e){const{overflow:p,overflowX:_,overflowY:C,display:S}=o(e);return/auto|scroll|overlay|hidden/.test(p+C+_)&&!["inline","contents"].includes(S)}function d(e){return["table","td","th"].includes(i(e))}function h(e){const p=/firefox/i.test(l()),_=o(e),C=_.backdropFilter||_.WebkitBackdropFilter;return"none"!==_.transform||"none"!==_.perspective||!!C&&"none"!==C||p&&"filter"===_.willChange||p&&!!_.filter&&"none"!==_.filter||["transform","perspective"].some((e=>_.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const p=_.contain;return null!=p&&p.includes(e)}))}function g(){return!/^((?!chrome|android).)*safari/i.test(l())}function m(e){return["html","body","#document"].includes(i(e))}const W={x:1,y:1};function y(e){const p=!s(e)&&e.contextElement?e.contextElement:s(e)?e:null;if(!p)return W;const _=p.getBoundingClientRect(),C=o(p);let S=_.width/parseFloat(C.width),j=_.height/parseFloat(C.height);return S&&Number.isFinite(S)||(S=1),j&&Number.isFinite(j)||(j=1),{x:S,y:j}}function w(e,p,_,C){var S,j,N,H;void 0===p&&(p=!1),void 0===_&&(_=!1);const M=e.getBoundingClientRect();let P=W;p&&(C?s(C)&&(P=y(C)):P=y(e));const I=s(e)?n$1(e):window,B=!g()&&_,z=(M.left+(B&&null!=(S=null==(j=I.visualViewport)?void 0:j.offsetLeft)?S:0))/P.x,V=(M.top+(B&&null!=(N=null==(H=I.visualViewport)?void 0:H.offsetTop)?N:0))/P.y,q=M.width/P.x,X=M.height/P.y;return{width:q,height:X,top:V,right:z+q,bottom:V+X,left:z,x:z,y:V}}function x(e){return((f(e)?e.ownerDocument:e.document)||window.document).documentElement}function v(e){return s(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function b(e){return w(x(e)).left+v(e).scrollLeft}function L(e,p,_){const C=c(p),S=x(p),j=w(e,!0,"fixed"===_,p);let N={scrollLeft:0,scrollTop:0};const H={x:0,y:0};if(C||!C&&"fixed"!==_)if(("body"!==i(p)||a(S))&&(N=v(p)),c(p)){const e=w(p,!0);H.x=e.x+p.clientLeft,H.y=e.y+p.clientTop}else S&&(H.x=b(S));return{x:j.left+N.scrollLeft-H.x,y:j.top+N.scrollTop-H.y,width:j.width,height:j.height}}function E(e){if("html"===i(e))return e;const p=e.assignedSlot||e.parentNode||(u(e)?e.host:null)||x(e);return u(p)?p.host:p}function R(e){return c(e)&&"fixed"!==o(e).position?e.offsetParent:null}function T(e){const p=n$1(e);let _=R(e);for(;_&&d(_)&&"static"===o(_).position;)_=R(_);return _&&("html"===i(_)||"body"===i(_)&&"static"===o(_).position&&!h(_))?p:_||function(e){let p=E(e);for(;c(p)&&!m(p);){if(h(p))return p;p=E(p)}return null}(e)||p}const z=Math.min,V=Math.max;function D(e){const p=E(e);return m(p)?e.ownerDocument.body:c(p)&&a(p)?p:D(p)}function F(e,p){var _;void 0===p&&(p=[]);const C=D(e),S=C===(null==(_=e.ownerDocument)?void 0:_.body),j=n$1(C);return S?p.concat(j,j.visualViewport||[],a(C)?C:[]):p.concat(C,F(C))}function A(e,p,_){return"viewport"===p?l$1(function(e,p){const _=n$1(e),C=x(e),S=_.visualViewport;let j=C.clientWidth,N=C.clientHeight,H=0,M=0;if(S){j=S.width,N=S.height;const e=g();(e||!e&&"fixed"===p)&&(H=S.offsetLeft,M=S.offsetTop)}return{width:j,height:N,x:H,y:M}}(e,_)):s(p)?function(e,p){const _=w(e,!0,"fixed"===p),C=_.top+e.clientTop,S=_.left+e.clientLeft,j=c(e)?y(e):{x:1,y:1},N=e.clientWidth*j.x,H=e.clientHeight*j.y,M=S*j.x,P=C*j.y;return{top:P,left:M,right:M+N,bottom:P+H,x:M,y:P,width:N,height:H}}(p,_):l$1(function(e){var p;const _=x(e),C=v(e),S=null==(p=e.ownerDocument)?void 0:p.body,j=V(_.scrollWidth,_.clientWidth,S?S.scrollWidth:0,S?S.clientWidth:0),N=V(_.scrollHeight,_.clientHeight,S?S.scrollHeight:0,S?S.clientHeight:0);let H=-C.scrollLeft+b(e);const M=-C.scrollTop;return"rtl"===o(S||_).direction&&(H+=V(_.clientWidth,S?S.clientWidth:0)-j),{width:j,height:N,x:H,y:M}}(x(e)))}const q={getClippingRect:function(e){let{element:p,boundary:_,rootBoundary:C,strategy:S}=e;const j="clippingAncestors"===_?function(e,p){const _=p.get(e);if(_)return _;let C=F(e).filter((e=>s(e)&&"body"!==i(e))),S=null;const j="fixed"===o(e).position;let N=j?E(e):e;for(;s(N)&&!m(N);){const e=o(N),p=h(N);(j?p||S:p||"static"!==e.position||!S||!["absolute","fixed"].includes(S.position))?S=e:C=C.filter((e=>e!==N)),N=E(N)}return p.set(e,C),C}(p,this._c):[].concat(_),N=[...j,C],H=N[0],M=N.reduce(((e,_)=>{const C=A(p,_,S);return e.top=V(C.top,e.top),e.right=z(C.right,e.right),e.bottom=z(C.bottom,e.bottom),e.left=V(C.left,e.left),e}),A(p,H,S));return{width:M.right-M.left,height:M.bottom-M.top,x:M.left,y:M.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:p,offsetParent:_,strategy:C}=e;const S=c(_),j=x(_);if(_===j)return p;let N={scrollLeft:0,scrollTop:0},H={x:1,y:1};const M={x:0,y:0};if((S||!S&&"fixed"!==C)&&(("body"!==i(_)||a(j))&&(N=v(_)),c(_))){const e=w(_);H=y(_),M.x=e.x+_.clientLeft,M.y=e.y+_.clientTop}return{width:p.width*H.x,height:p.height*H.y,x:p.x*H.x-N.scrollLeft*H.x+M.x,y:p.y*H.y-N.scrollTop*H.y+M.y}},isElement:s,getDimensions:function(e){if(c(e))return{width:e.offsetWidth,height:e.offsetHeight};const p=w(e);return{width:p.width,height:p.height}},getOffsetParent:T,getDocumentElement:x,getScale:y,async getElementRects(e){let{reference:p,floating:_,strategy:C}=e;const S=this.getOffsetParent||T,j=this.getDimensions;return{reference:L(p,await S(_),C),floating:{x:0,y:0,...await j(_)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===o(e).direction};const O=(e,p,_)=>{const C=new Map,S={platform:q,..._},j={...S.platform,_c:C};return o$1(e,p,{...S,platform:j})};var X={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function n(e){return e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),"")}function r(e){return(e+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(e,p){var _,C,S,j,N,H=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,M=[],P="",I=p||{},B=0;function f(e){var p=X[e[1]||""],_=M[M.length-1]==e;return p?p[1]?(_?M.pop():M.push(e),p[0|_]):p[0]:e}function $(){for(var e="";M.length;)e+=f(M[M.length-1]);return e}for(e=e.replace(/^\[(.+?)\]:\s*(.+)$/gm,(function(e,p,_){return I[p.toLowerCase()]=_,""})).replace(/^\n+|\n+$/g,"");S=H.exec(e);)C=e.substring(B,S.index),B=H.lastIndex,_=S[0],C.match(/[^\\](\\\\)*\\$/)||((N=S[3]||S[4])?_='<pre class="code '+(S[4]?"poetry":S[2].toLowerCase())+'"><code'+(S[2]?' class="language-'+S[2].toLowerCase()+'"':"")+">"+n(r(N).replace(/^\n+|\n+$/g,""))+"</code></pre>":(N=S[6])?(N.match(/\./)&&(S[5]=S[5].replace(/^\d+/gm,"")),j=t(n(S[5].replace(/^\s*[>*+.-]/gm,""))),">"==N?N="blockquote":(N=N.match(/\./)?"ol":"ul",j=j.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),_="<"+N+">"+j+"</"+N+">"):S[8]?_='<img src="'+r(S[8])+'" alt="'+r(S[7])+'">':S[10]?(P=P.replace("<a>",'<a href="'+r(S[11]||I[C.toLowerCase()])+'">'),_=$()+"</a>"):S[9]?_="<a>":S[12]||S[14]?_="<"+(N="h"+(S[14]?S[14].length:S[13]>"="?1:2))+">"+t(S[12]||S[15],I)+"</"+N+">":S[16]?_="<code>"+r(S[16])+"</code>":(S[17]||S[1])&&(_=f(S[17]||"--"))),P+=C,P+=_;return(P+e.substring(B)+$()).replace(/^\n+|\n+$/g,"")}var Y=function keepinview(e){var p=e.padding,_=void 0===p?0:p;return{name:"keepinview",fn:function fn(e){var p=e.x,C=e.y,S=e.rects,j=e.middlewareData,N=e.platform;var H=N.getDimensions(document.body);var M=clamp(p,_,H.width-S.floating.width-_);var P=clamp(C,_,H.height-S.floating.height-_);var I=p-M;var B=C-P;var W=j.arrow;if(W){W.x&&I&&(W.x+=I);W.y&&B&&(W.y+=B)}return{x:M,y:P}}}};function positionTooltip(e,p,_,C){O(e,p,{middleware:[v$1({alignment:"bottom-start"}),T$1((function(e){var p=e.placement.split("-")[0];switch(p){case"top":return 32;case"left":case"right":return 24;default:return 6}})),m$1({element:_,padding:8}),Y({padding:24})]}).then((function(e){var C=e.x,S=e.y,j=e.middlewareData,N=e.placement;setStyle(p,{left:"".concat(C,"px"),top:"".concat(S,"px")});if(j.arrow){var H=N.split("-")[0];var M={top:"bottom",right:"left",bottom:"top",left:"right"}[H];setStyle(_,_defineProperty({left:null!=j.arrow.x?"".concat(j.arrow.x,"px"):"",top:null!=j.arrow.y?"".concat(j.arrow.y,"px"):"",right:"",bottom:""},M,"".concat(-_.offsetWidth/2,"px")))}}))}var J=function(){function Step(e,_){var C=this;_classCallCheck(this,Step);this.active=false;this.first=false;this.last=false;this.container=null;this.highlight=null;this.tooltip=null;this.arrow=null;this.context=_;this._target=null;this._timerHandler=null;this._scrollCancel=null;var S;if(e instanceof HTMLElement){this.target=e;S=getDataContents(p(e).data("tour"))}else{S=e;this._selector=e.selector}assert(S.hasOwnProperty("title"),"missing required step parameter: title\n"+JSON.stringify(S,null,2)+"\nsee this doc for more detail: https://github.com/LikaloLLC/tourguide.js#json-based-approach");assert(S.hasOwnProperty("content"),"missing required step parameter: content\n"+JSON.stringify(S,null,2)+"\nsee this doc for more detail: https://github.com/LikaloLLC/tourguide.js#json-based-approach");this.index=parseInt(S.step);this.title=S.title;this.content=t(S.content);this.image=S.image;this.width=S.width;this.height=S.height;this.layout=S.layout||"vertical";this.placement=S.placement||"bottom";this.overlay=false!==S.overlay;this.navigation=false!==S.navigation;if(S.image&&_.options.preloadimages&&!/^data:/i.test(S.image)){var j=new Image;j.onerror=function(){console.error(new Error("Invalid image URL: ".concat(S.image)));C.image=null};j.src=this.image}this.actions=[];S.actions&&(Array.isArray(S.actions)?this.actions=S.actions:console.error(new Error("actions must be array but got ".concat(_typeof(S.actions)))))}_createClass(Step,[{key:"el",get:function get(){var e=this;if(!this.container){var _=p('<div role="figure" class="guided-tour-step-image">'.concat(this.image?'<img src="'.concat(this.image,'" />'):"","</div>"));var C=p('<div class="guided-tour-step-content-wrapper">\n        <div id="tooltip-title-'.concat(this.index,'" role="heading" class="guided-tour-step-title">').concat(this.context._decorateText(this.title,this),'</div>\n        <div class="guided-tour-step-content">').concat(this.context._decorateText(this.content,this),"</div>\n      </div>"));C.find("a").on("click",(function(p){e.context.action(p,{action:"link"})}));if(Array.isArray(this.actions)&&this.actions.length>0){var S=p('<div class="guided-tour-step-actions">\n          '.concat(this.actions.map((function(e,p){return"<".concat(e.href?"a":"button",' id="').concat(e.id,'" ').concat(e.href?'href="'.concat(e.href,'"'):""," ").concat(e.target?'target="'.concat(e.target,'"'):"",' class="button').concat(e.primary?" primary":"",'" data-index="').concat(p,'">').concat(e.label,"</").concat(e.href?"a":"button",">")})).join(""),"\n        </div>"));S.find("a, button").on("click",(function(p){var _=e.actions[parseInt(p.target.dataset.index)];_.action&&p.preventDefault();e.context.action(p,_)}));C.append(S)}var j=this.tooltip=p('<div role="document" class="guided-tour-step-tooltip"></div>');this.width&&setStyle(j,{width:this.width+"px",maxWidth:this.width+"px"});this.height&&setStyle(j,{height:this.height+"px",maxHeight:this.height+"px"});var N=p('<div class="guided-tour-step-tooltip-inner'.concat("horizontal"===this.layout?" step-layout-horizontal":"",'"></div>'));var H=p('<div class="guided-tour-step-content-container"></div>');H.append(_).append(C);var M=this.arrow=p('<div class="guided-tour-arrow"></div>');if(this.navigation){var P=p('<div class="guided-tour-step-footer">\n                  <button class="guided-tour-step-button guided-tour-step-button-close" title="End tour">\n                      <svg class="guided-tour-icon" viewBox="0 0 20 20" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-close"></use></svg>\n                  </button>\n                  '.concat(this.first?"":'<button class="guided-tour-step-button guided-tour-step-button-prev" title="Prev step">\n                    <svg class="guided-tour-icon" viewBox="0 0 20 20" width="32" height="32">\n                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-prev"></use>\n                    </svg>\n                  </button>',"\n                  ").concat(this.last?'<button class="guided-tour-step-button guided-tour-step-button-complete" title="Complete tour">\n                    <svg class="guided-tour-icon" viewBox="0 0 20 20" width="32" height="32">\n                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-complete"></use>\n                    </svg>\n                  </button>':'<button class="guided-tour-step-button guided-tour-step-button-next" title="Next step">\n                    <svg class="guided-tour-icon" viewBox="0 0 20 20" width="32" height="32">\n                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#tour-icon-next"></use>\n                    </svg>\n                  </button>',"\n                  ").concat(this.context._steps.length>1?'<div class="guided-tour-step-bullets">\n                      <ul>'.concat(this.context._steps.map((function(p,_){return'<li><button title="Go to step '.concat(_+1,'" data-index="').concat(_,'" class="').concat(p.index<e.index?"complete":p.index==e.index?"current":"",'"></button></li>')})).join(""),"</ul>\n                  </div>"):"","\n              </div>"));P.find(".guided-tour-step-button-prev").on("click",this.context.previous);P.find(".guided-tour-step-button-next").on("click",this.context.next);P.find(".guided-tour-step-button-close").on("click",this.context.stop);P.find(".guided-tour-step-button-complete").on("click",this.context.complete);P.find(".guided-tour-step-bullets button").on("click",(function(_){return e.context.go(parseInt(p(_.target).data("index")))}));N.append(M).append(H).append(P)}else N.append(M).append(H);j.append(N);this.container=p('<div role="dialog" aria-labelleby="tooltip-title-'.concat(this.index,'" class="guided-tour-step').concat(this.first?" guided-tour-step-first":"").concat(this.last?" guided-tour-step-last":"",'"></div>'));if(this.overlay&&isTargetValid(this.target)){var I=this.highlight=p('<div class="guided-tour-step-highlight"></div>');this.container.append(I).append(j)}else this.container.append(j)}return this.container}},{key:"target",get:function get(){return this._target||this._selector&&p(this._selector).first()},set:function set(e){this._target=e}},{key:"attach",value:function attach(e){p(e).append(this.el)}},{key:"remove",value:function remove(){this.hide();this.el.remove()}},{key:"position",value:function position(){var e=getViewportRect(this.context._options.root);var p=this.tooltip;var _=this.highlight;var C={top:0,left:0,width:0,height:0};if(isTargetValid(this.target)){if(this.overlay&&this.highlight){var S=getBoundingClientRect(this.target,this.context._options.root);C.top="".concat(S.top-this.context.options.padding,"px");C.left="".concat(S.left-this.context.options.padding,"px");C.width="".concat(S.width+2*this.context.options.padding,"px");C.height="".concat(S.height+2*this.context.options.padding,"px");setStyle(_,C)}positionTooltip(this.target,p.first(),this.arrow.first(),this.context)}else{this.overlay&&this.highlight&&setStyle(_,C);var j={};var N=getBoundingClientRect(p,this.context._options.root);j.top=e.height/2+e.scrollY-e.rootTop-N.height/2;j.left=e.width/2+e.scrollX-e.rootLeft-N.width/2;j.bottom="unset";j.right="unset";p.addClass("guided-tour-arrow-none");setStyle(p,j);this.overlay&&this.context._overlay.show()}}},{key:"cancel",value:function cancel(){this._timerHandler&&clearTimeout(this._timerHandler);this._scrollCancel&&this._scrollCancel()}},{key:"show",value:function show(){var e=this;this.cancel();if(!this.active){var show=function show(){e.el.addClass("active");e.context._overlay.hide();e.position();e.active=true;e.container.find(".guided-tour-step-tooltip, button.primary, .guided-tour-step-button-complete, .guided-tour-step-button-next").last().focus({preventScroll:true})};var p=clamp(this.context.options.animationspeed,120,1e3);isTargetValid(this.target)&&(this._scrollCancel=scrollIntoView(this.target,{time:p,cancellable:false,align:{top:.5,left:.5}}));this._timerHandler=setTimeout(show,3*p);return true}return false}},{key:"hide",value:function hide(){this.cancel();if(this.active){this.el.removeClass("active");this.tooltip.removeClass("guided-tour-arrow-top");this.tooltip.removeClass("guided-tour-arrow-bottom");this.overlay&&this.context._overlay.show();this.active=false;return true}return false}},{key:"toJSON",value:function toJSON(){var e=this.index,p=this.title,_=this.content,C=this.image,S=this.active;return{index:e,title:p,content:_,image:C,active:S}}}]);return Step}();var G=function(){function Overlay(e){_classCallCheck(this,Overlay);this.context=e;this.container=null;this.active=false}_createClass(Overlay,[{key:"el",get:function get(){this.container||(this.container=p('<div role="dialog" class="guided-tour-overlay"></div>'));return this.container}},{key:"attach",value:function attach(e){p(e).append(this.el)}},{key:"remove",value:function remove(){this.hide();this.el.remove()}},{key:"show",value:function show(){if(!this.active){this.el.addClass("active");this.active=true;return true}return false}},{key:"hide",value:function hide(){if(this.active){this.el.removeClass("active");this.active=false;return true}return false}},{key:"toJSON",value:function toJSON(){var e=this.active;return{active:e}}}]);return Overlay}();function hexToRGB(e){var p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return p?[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]:null}function componentToHex(e){var p=e.toString(16);return 1==p.length?"0"+p:p}function rgbToHex(e,p,_){return"#"+componentToHex(Math.floor(e))+componentToHex(Math.floor(p))+componentToHex(Math.floor(_))}function RGBToHSL(e,p,_){e/=255;p/=255;_/=255;var C=Math.max(e,p,_);var S=C-Math.min(e,p,_);var j=S?C===e?(p-_)/S:C===p?2+(_-e)/S:4+(e-p)/S:0;return[60*j<0?60*j+360:60*j,100*(S?C<=.5?S/(2*C-S):S/(2-(2*C-S)):0),100*(2*C-S)/2]}function HSLToRGB(e,p,_){p/=100;_/=100;var C=function k(p){return(p+e/30)%12};var S=p*Math.min(_,1-_);var j=function f(e){return _-S*Math.max(-1,Math.min(C(e)-3,Math.min(9-C(e),1)))};return[255*j(0),255*j(8),255*j(4)]}function hexToHSL(e){return RGBToHSL.apply(null,hexToRGB(e))}function HSLToHex(e,p,_){return rgbToHex.apply(null,HSLToRGB(e,p,_))}function adjust(e,p,_,C){var S=hexToHSL(e);S[0]=clamp(S[0]*p,0,255);S[1]=clamp(S[1]*_,0,255);S[2]=clamp(S[2]*C,0,255);return HSLToHex.apply(null,S)}function setAutoColors(e,p){var _=Object.assign(e,p||{});var C=/Color$/;var S=_.accentColor;Object.keys(_).filter((function(e){return C.test(e)&&"auto"===_[e]})).forEach((function(e){switch(e){case"focusColor":case"stepButtonNextColor":case"stepButtonCompleteColor":case"bulletCurrentColor":_[e]=S;break;case"bulletColor":_[e]=adjust(S,1,.8,1.4);break;case"bulletVisitedColor":_[e]=adjust(S,1,.3,1.2);break;case"stepButtonPrevColor":case"stepButtonCloseColor":_[e]=adjust(S,1,.2,.8);break}}));return _}var K=_createClass((function ActionHandler(e,p){_classCallCheck(this,ActionHandler);this.name=e;this.onAction=p}));function parseProperties(e){return(e||"").split(",").map((function(e){return e.trim()})).filter(Boolean)}function getMatches(e,p){var _,C=[];p.lastIndex=0;while(null!==(_=p.exec(e))){_.index===p.lastIndex&&p.lastIndex++;C.push({match:_[0],start:_.index,length:_[0].length,properties:parseProperties(_[1])})}return C}var U=function(){function ContentDecorator(e,p){_classCallCheck(this,ContentDecorator);this.match="string"===typeof e?new RegExp("{s*".concat(e.trim(),"s*(,.+?)?s*?}"),"gmi"):e;this.decoratorFn=p}_createClass(ContentDecorator,[{key:"test",value:function test(e){return this.match.test(e)}},{key:"render",value:function render(e,p,_){try{var C=getMatches(e,this.match).reverse();return this.decoratorFn(e,C,p,_)}catch(p){console.warn(p);return e}}}]);return ContentDecorator}();var Z=":host {\n  position: absolute;\n  overflow: visible;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 0;\n  box-sizing: border-box;\n  line-height: 1.4;\n  text-align: left;\n  text-rendering: optimizespeed;\n  font-family: var(--tourguide-font-family);\n  font-size: var(--tourguide-font-size);\n  color: var(--tourguide-text-color);\n  /* 1 */\n  -webkit-text-size-adjust: 100%;\n  /* 2 */\n  -moz-tab-size: 4;\n  /* 3 */\n  tab-size: 4;\n  /* 3 */\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: none;\n  border-width: 0;\n  border-style: none;\n  border-color: currentColor;\n  box-shadow: none;\n  color: inherit;\n  appearance: none;\n  font-size: inherit;\n  font-weight: inherit;\n  text-decoration: none;\n}\n\na,\nbutton {\n  cursor: pointer;\n}\na:hover, a:focus,\nbutton:hover,\nbutton:focus {\n  outline: 5px auto var(--tourguide-focus-color);\n}\n\n.guided-tour-overlay {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  background-color: var(--tourguide-overlay-color);\n}\n.guided-tour-overlay.active {\n  display: block;\n}\n\n.guided-tour-step {\n  display: none;\n}\n.guided-tour-step.active {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: all;\n}\n.guided-tour-step.active .guided-tour-step-highlight {\n  position: absolute;\n  box-sizing: border-box;\n  border-radius: 4px;\n  box-shadow: 0 0 0 999em var(--tourguide-overlay-color);\n  z-index: 1;\n}\n.guided-tour-step.active .guided-tour-step-tooltip {\n  position: absolute;\n  margin: 16px 0;\n  z-index: 2;\n  background-color: var(--tourguide-background-color);\n  width: var(--tourguide-tooltip-width);\n  max-width: max-content;\n  border-radius: 5px;\n  box-sizing: border-box;\n  box-shadow: 0 0 3em -0.8em #000;\n  transition: opacity 150ms;\n}\n@media screen and (max-width: 760px) {\n  .guided-tour-step.active .guided-tour-step-tooltip {\n    max-width: 85vw;\n    width: max-content !important;\n  }\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-arrow {\n  position: absolute;\n  width: 1em;\n  height: 1em;\n  background: var(--tourguide-background-color);\n  z-index: -1;\n  transform: rotate(45deg);\n  pointer-events: none;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content-container {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  height: calc(100% - 2.6em);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-image {\n  flex-grow: 1;\n  flex-shrink: 1;\n  overflow: hidden;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-image img {\n  width: 100%;\n  height: 100%;\n  border-radius: 4px 4px 0 0;\n  object-fit: cover;\n  object-position: center;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content-wrapper {\n  margin: 1.5em 2.5em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-title {\n  font-size: 1.4em;\n  margin-bottom: 0.8em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content {\n  flex-shrink: 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content b,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content strong {\n  font-weight: bold;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content i,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content em {\n  font-style: italic;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content a {\n  cursor: pointer;\n  text-decoration: underline;\n  color: var(--tourguide-accent-color);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content mark {\n  background: inherit;\n  text-shadow: 0px 2px 4px #ff0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content code,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content dfn {\n  padding: 1px 6px 1px 4px;\n  border-radius: 4px;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content code {\n  background-color: #f0f0f0;\n  color: #e83e8c;\n  font-family: monospace;\n  font-size: 87.5%;\n  word-break: break-word;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content dfn {\n  font-style: italic;\n  background-color: #ffc6e5;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content p,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content blockquote {\n  margin: 1em 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content p:last-child,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul:last-child,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol:last-child,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content blockquote:last-child {\n  margin-bottom: 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content blockquote {\n  padding-left: 1em;\n  border-left: 4px solid silver;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol {\n  padding-left: 1.5em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ul li,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-content ol li {\n  margin: 0.3em 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions {\n  display: flex;\n  column-gap: 0.5em;\n  margin-top: 1.5em;\n  justify-content: end;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button {\n  color: var(--tourguide-accent-color);\n  padding: 0.5em 1em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button.primary {\n  background: var(--tourguide-accent-color);\n  padding: 0.5em 1.5em;\n  color: #fff;\n  border-radius: 4px;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button.primary:hover, .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-actions .button.primary:focus {\n  filter: brightness(120%);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-icon {\n  display: inline-block;\n  overflow: hidden;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button {\n  flex-direction: column;\n  justify-content: center;\n  /* <-- actual veertical align */\n  display: inline-flex;\n  text-align: center;\n  cursor: pointer;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button .guided-tour-icon {\n  align-self: center;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 2em;\n  height: 2em;\n  color: var(--tourguide-step-button-close-color);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-prev,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-next,\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-complete {\n  width: 3em;\n  height: 3em;\n  background: var(--tourguide-background-color);\n  border-radius: 50%;\n  margin-top: -1.5em;\n  position: absolute;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-prev {\n  color: var(--tourguide-step-button-prev-color);\n  left: 0;\n  transform: translateX(-50%);\n  top: 50%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-next {\n  color: var(--tourguide-step-button-next-color);\n  right: 0;\n  transform: translateX(50%);\n  top: 50%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-button-complete {\n  color: var(--tourguide-step-button-complete-color);\n  right: 0;\n  transform: translateX(50%);\n  top: 50%;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-footer {\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets {\n  text-align: center;\n  line-height: 16px;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul {\n  list-style: none;\n  margin: 0 1em 1em;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li {\n  display: inline-block;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li button {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  display: inline-block;\n  background-color: var(--tourguide-bullet-color);\n  border: 8px solid var(--tourguide-background-color);\n  box-sizing: content-box;\n  cursor: pointer;\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li button.complete {\n  background-color: var(--tourguide-bullet-visited-color);\n}\n.guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner .guided-tour-step-bullets ul li button.current {\n  background-color: var(--tourguide-bullet-current-color);\n}\n@media screen and (min-width: 760px) {\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container {\n    flex-direction: row;\n    height: 100%;\n  }\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container .guided-tour-step-content-wrapper {\n    flex: 1 1 auto;\n  }\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container .guided-tour-step-image {\n    width: 50%;\n    margin-bottom: calc((1em + 24px) * -1);\n    flex: 0 0 auto;\n  }\n  .guided-tour-step.active .guided-tour-step-tooltip .guided-tour-step-tooltip-inner.step-layout-horizontal .guided-tour-step-content-container .guided-tour-step-image img {\n    border-radius: 4px 0 0 4px;\n    height: 100%;\n    object-fit: cover;\n    object-position: center;\n  }\n}\n.guided-tour-step.active .guided-tour-step-tooltip.guided-tour-arrow-none .guided-tour-step-tooltip-inner .guided-tour-arrow {\n  display: none;\n}";var Q={DOM:0,JSON:1,REMOTE:2};var tt={next:"ArrowRight",prev:"ArrowLeft",first:"Home",last:"End",complete:null,stop:"Escape"};var et={fontFamily:"sans-serif",fontSize:"14px",tooltipWidth:"40vw",overlayColor:"rgba(0, 0, 0, 0.5)",textColor:"#333",accentColor:"#0d6efd",focusColor:"auto",bulletColor:"auto",bulletVisitedColor:"auto",bulletCurrentColor:"auto",stepButtonCloseColor:"auto",stepButtonPrevColor:"auto",stepButtonNextColor:"auto",stepButtonCompleteColor:"auto",backgroundColor:"#fff"};function isEventAttrbutesMatched(e,p){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"keyup";if("object"===_typeof(e)){var C={type:_};if("number"===typeof p)C.keyCode=p;else if("string"===typeof p)C.key=p;else{if("object"!==_typeof(p))throw new Error("keyboardNavigation option invalid. should be predefined object or false. Check documentation.");C=_objectSpread2(_objectSpread2({},p),{},{type:_})}var S=Object.entries(C).map((function(e){var p=_slicedToArray(e,2),_=p[0],C=p[1];return{key:_,value:C}}));return!S.filter((function(p){return e[p.key]!==p.value})).length}return false}var nt=function(){function Tour(){var e=this;var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Tour);this._options=Object.assign({root:"body",selector:"[data-tour]",animationspeed:120,padding:5,steps:null,src:null,restoreinitialposition:true,preloadimages:false,request:{options:{mode:"cors",cache:"no-cache"},headers:{"Content-Type":"application/json"}},keyboardNavigation:tt,actionHandlers:[],contentDecorators:[],onStart:function onStart(){},onStop:function onStop(){},onComplete:function onComplete(){},onStep:function onStep(){},onAction:function onAction(){}},_,{style:setAutoColors(et,_.colors||_.style)});this._overlay=null;this._steps=[];this._current=0;this._active=false;this._stepsSrc=Q.DOM;this._ready=false;this._initialposition=null;if("object"===_typeof(this._options.steps)&&Array.isArray(this._options.steps)){this._stepsSrc=Q.JSON;this._steps=this._options.steps.map((function(p,_){return new J(_objectSpread2(_objectSpread2({},p),{},{step:p.step||_}),e)}));this._ready=true}else if("string"===typeof this._options.src){this._stepsSrc=Q.REMOTE;fetch(new Request(this._options.src,this._options.request)).then((function(p){return p.json().then((function(p){e._steps=p.map((function(p,_){return new J(_objectSpread2(_objectSpread2({},p),{},{step:p.step||_}),e)}));e._ready=true}))}))}else{if(!(p(this._options.selector).length>0))throw new Error("Tour is not configured properly. Check documentation.");this._stepsSrc=Q.DOM;this._ready=true}this._containerElement=document.createElement("aside");this._containerElement.classList.add("__guided-tour-container");p(this._options.root).append(this._containerElement);this._shadowRoot=this._containerElement.attachShadow({mode:"closed"});this._injectIcons();this._injectStyles();this.start=this.start.bind(this);this.next=this.next.bind(this);this.previous=this.previous.bind(this);this.go=this.go.bind(this);this.stop=this.stop.bind(this);this.complete=this.complete.bind(this);this._keyboardHandler=this._keyboardHandler.bind(this)}_createClass(Tour,[{key:"currentstep",get:function get(){return this._steps[this._current]}},{key:"length",get:function get(){return this._steps.length}},{key:"steps",get:function get(){return this._steps.map((function(e){return e.toJSON()}))}},{key:"hasnext",get:function get(){return this.nextstep!==this._current}},{key:"nextstep",get:function get(){return clamp(this._current+1,0,this.length-1)}},{key:"previousstep",get:function get(){return clamp(this._current-1,0)}},{key:"options",get:function get(){return this._options}},{key:"_injectIcons",value:function _injectIcons(){0===p("#GuidedTourIconSet",this._shadowRoot).length&&p(this._shadowRoot).append(p(_))}},{key:"_injectStyles",value:function _injectStyles(){var e=p("<style>".concat(Z,"</style>"));p(this._shadowRoot).append(e);var _=p("<style>".concat(colorObjToStyleVarString(this._options.style,"--tourguide"),"</style>"));p(this._shadowRoot).append(_)}},{key:"_keyboardHandler",value:function _keyboardHandler(e){this._options.keyboardNavigation.next&&isEventAttrbutesMatched(e,this._options.keyboardNavigation.next)?this.next():this._options.keyboardNavigation.prev&&isEventAttrbutesMatched(e,this._options.keyboardNavigation.prev)?this.previous():this._options.keyboardNavigation.first&&isEventAttrbutesMatched(e,this._options.keyboardNavigation.first)?this.go(0):this._options.keyboardNavigation.last&&isEventAttrbutesMatched(e,this._options.keyboardNavigation.last)?this.go(this._steps.length-1):this._options.keyboardNavigation.stop&&isEventAttrbutesMatched(e,this._options.keyboardNavigation.stop)?this.stop():this._options.keyboardNavigation.complete&&isEventAttrbutesMatched(e,this._options.keyboardNavigation.complete)&&this.complete()}},{key:"_decorateText",value:function _decorateText(e,p){var _=this;var C=e;this._options.contentDecorators.forEach((function(e){e.test(C)&&(C=e.render(C,p,_))}));return C}},{key:"init",value:function init(){var e=this;this.reset();this._overlay=new G(this);if(this._stepsSrc===Q.DOM){var _=p(this._options.selector).nodes;this._steps=_.map((function(p){return new J(p,e)}))}this._steps=this._steps.sort((function(e,p){return e.index-p.index}));this._steps[0].first=true;this._steps[this.length-1].last=true}},{key:"reset",value:function reset(){this._active&&this.stop();this._stepsSrc===Q.DOM&&(this._steps=[]);this._current=0}},{key:"start",value:function start(){var e=this;var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._ready){this._containerElement.style.zIndex=getMaxZIndex()+1;this._options.restoreinitialposition&&(this._initialposition=getScrollCoordinates(this._options.root));if(this._active)this.go(_,"start");else{p(this._options.root).addClass("__guided-tour-active");this.init();this._overlay.attach(this._shadowRoot);this._steps.forEach((function(p){return p.attach(e._shadowRoot)}));this._current=_;this.currentstep.show();this._active=true;this._options.onStart(this._options);if(this._options.keyboardNavigation){if("[object Object]"!==Object.prototype.toString.call(this._options.keyboardNavigation))throw new Error("keyboardNavigation option invalid. should be predefined object or false. Check documentation.");p(":root").on("keyup",this._keyboardHandler)}}}else setTimeout((function(){e.start(_)}),50)}},{key:"action",value:function action(e,p){if(this._active){switch(p.action){case"next":this.next();break;case"previous":this.previous();break;case"stop":this.stop();break;case"complete":this.complete();break;default:var _=this._options.actionHandlers.find((function(e){return e.name===p.action}));_&&_.onAction(e,p,this)}"function"===typeof this._options.onAction&&this._options.onAction(e,p,this)}}},{key:"next",value:function next(){this._active&&this.go(this.nextstep,"next")}},{key:"previous",value:function previous(){this._active&&this.go(this.previousstep,"previous")}},{key:"go",value:function go(e,p){if(this._active&&this._current!==e){this.currentstep.hide();this._current=clamp(e,0,this.length-1);this.currentstep.show();this._options.onStep(this.currentstep,p)}}},{key:"stop",value:function stop(){if(this._active){this.currentstep.hide();this._active=false;this._overlay.remove();this._steps.forEach((function(e){return e.remove()}));p(this._options.root).removeClass("__guided-tour-active");this._options.keyboardNavigation&&p(":root").off("keyup",this._keyboardHandler);this._options.restoreinitialposition&&this._initialposition&&animateScroll(this._initialposition,this._options.animationspeed);this._options.onStop(this._options)}}},{key:"complete",value:function complete(){if(this._active){this.stop();this._options.onComplete()}}},{key:"deinit",value:function deinit(){if(this._ready){this._containerElement.remove();this._containerElement=null;this._active=false;this._ready=false}}}]);return Tour}();nt.ActionHandler=K;nt.ContentDecorator=U;export{nt as default};

