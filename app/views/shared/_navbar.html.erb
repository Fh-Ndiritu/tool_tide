<nav class="p-4 shadow-md bg-accent" data-controller="navbar">
  <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
    <div class="w-full flex justify-between items-center mb-4 md:mb-0">
      <div class="flex-shrink-0">
        <%= link_to root_path, class: "flex items-center" do %>
          <%= image_tag "hadaa.jpg", alt: "Hadaa", class:"h-18 w-18 rounded-full mr-2" %>
        <% end %>
      </div>
      <div class="md:hidden" data-action="click->navbar#toggleMenu">
        <%= render ButtonComponent.new(
              text: "",
              classes: "bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
              svg: 'list',
              svg_classes: "bg-transparent h-6 w-6 text-neutral-900",
              data: { action: "click->navbar#toggleMenu" }
              ) %>
      </div>
    </div>
    <div id="navigation-links"
    data-navbar-target="navigationLinks"
    class="md:pr-4 flex justify-center md:justify-end hidden md:flex flex-col md:flex-row max-md:w-full items-center space-y-2 md:space-y-0 md:space-x-4 md:min-w-8/12">
      <!--On HomePage-->
      <% if active_item(root_path).present? %>
        <%= render ButtonComponent.new(
          text: "How it Works",
          href: "#how_it_works",
          classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
          ) %>
        <%= render ButtonComponent.new(
          text: "Pricing",
          href: "#pricing",
          classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
          ) %>
        <%= render ButtonComponent.new(
          text: "FAQ",
          href: "#faq",
          classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
          ) %>
      <% else %>
        <%= render ButtonComponent.new(
          text: "Home",
          href: root_path,
          classes: "#{active_item(root_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
          ) %>
      <% end %>
      <!--ON HomePage-->
      <!--Global Links-->
      <%= render ButtonComponent.new(
        text: "AI Landscaper",
        href: new_landscape_path,
        classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
        ) %>
      <div data-controller="dropdown" class="relative flex-col flex justify-center">
        <button type="button" data-action="dropdown#toggle click@window->dropdown#hide" class="<%= active_item(images_path) || active_item(extract_text_images_path) %> nav-btn">
          Extraction Features
        </button>
        <div data-dropdown-target="menu" class="hidden md:absolute top-full left-0 md:mt-2 py-2 md:w-48 bg-accent px-3 rounded-md shadow-lg z-20">
          <%= link_to "Text Extractor", extract_text_images_path, class: "#{active_item(extract_text_images_path)} my-2 block nav-btn w-full" %>
          <%= link_to "Image Converter", images_path, class: "#{active_item(images_path)} my-2 block nav-btn w-full" %>
        </div>
      </div>
      <!--Global Links-->
      <!--When Logged IN -->
      <% if user_signed_in? %>
        <%= render ButtonComponent.new(
        text: "Credits Balance",
        href: credits_path,
        classes: "#{active_item(credits_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
        ) %>
        <%= render ButtonComponent.new(
        text: "History",
        href: landscapes_path,
        classes: "#{active_item(landscapes_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
        ) %>
        <%= button_to "Log Out", destroy_user_session_path, method: :delete, class: "nav-btn" %>
        <!--When Logged IN-->
      <% else %>
        <%= link_to "Login", new_user_session_path,  class: "#{active_item(new_user_session_path)} nav-btn" %>
      <% end %>
    </div>
  </div>
</nav>
