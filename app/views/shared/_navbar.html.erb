<nav class="p-4 shadow-md bg-accent" data-controller="navbar">
  <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
    <div class="w-full flex justify-between items-center mb-4 md:mb-0">
      <div class="flex-shrink-0">
        <%= link_to root_path, class: "flex items-center" do %>
          <%= image_tag "hadaa.jpg",
          alt: "Hadaa",
          class:"h-18 w-18 rounded-full mr-2" %>
        <% end %>
      </div>

      <div class="md:hidden" data-action="click->navbar#toggleMenu">
        <%= render ButtonComponent.new(
              text: "",
              classes: "bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
              svg: 'list',
              svg_classes: "bg-transparent h-6 w-6 text-neutral-900",
              data: { action: "click->navbar#toggleMenu" }
              ) %>
      </div>
    </div>

    <div id="navigation-links"
    data-navbar-target="navigationLinks"
    class="md:pr-4 md:justify-end hidden md:flex flex-col md:flex-row max-md:w-full items-center space-y-2 md:space-y-0 md:space-x-4 md:min-w-8/12">
     <%= render ButtonComponent.new(
        text: "Home",
        href: root_path,
        classes: "#{active_item(root_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
        ) %>
      <%= render ButtonComponent.new(
        text: "Credits Balance",
        href: credits_path,
        classes: "#{active_item(root_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
        ) %>

      <%= render ButtonComponent.new(
        text: "AI Landscaper",
        href: new_landscape_path,
        classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
        ) %>


        <!--# id navigation for homepage-->
        <% if active_item(root_path).present? %>
          <%= render ButtonComponent.new(
            text: "How it Works",
            href: "#how_it_works",
            classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
            ) %>
          <%= render ButtonComponent.new(
            text: "Pricing",
            href: "#pricing",
            classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
            ) %>

          <%= render ButtonComponent.new(
            text: "FAQ",
            href: "#faq",
            classes: "#{active_item(new_landscape_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
            ) %>
        <% else %>
          <%= render ButtonComponent.new(
          text: "Text Extractor",
          href: extract_text_images_path,
          classes: "#{active_item(extract_text_images_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
          ) %>
        <%= render ButtonComponent.new(
          text: "Image Converter",
          href: images_path,
          classes: "#{active_item(images_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
          ) %>
        <% end %>


        <% if user_signed_in? &&  current_user.landscapes.any? %>
           <%= render ButtonComponent.new(
            text: "History",
            href: landscapes_path,
            classes: "#{active_item(landscapes_path)} gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0",
            ) %>
        <% end %>


        <% if user_signed_in? %>
          <%= button_to "Log Out", destroy_user_session_path, method: :delete, class: "w-full flex items-center font-semibold py-2 px-2 rounded-lg cursor-pointer hover:bg-primary hover:text-light duration-200 transition-all transition-duration-300 ease-in-out gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0 text-center justify-center" %>
        <% else %>
          <%= link_to "Login", new_user_session_path,  class: "#{active_item(new_user_session_path)} flex flex-col items-center font-semibold py-2 px-2 rounded-lg cursor-pointer hover:bg-primary hover:text-light duration-200 transition-all transition-duration-300 ease-in-out gap-4 bg-transparent hover:bg-secondary focus:outline-none hover:bg-accent text-neutral-900 hover:text-white p-0 text-center justify-center" %>
        <% end %>

    </div>
  </div>
</nav>
