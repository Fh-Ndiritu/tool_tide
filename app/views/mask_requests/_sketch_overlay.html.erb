<div id="sketch_overlays" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
  <div class="bg-gray-900 rounded-2xl max-w-4xl w-full p-6 md:p-8 space-y-8 border border-gray-700 shadow-2xl overflow-y-auto max-h-[90vh]">
    <div class="text-center space-y-4">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-yellow-500/10 border border-yellow-500/20 text-yellow-500 text-xs font-medium uppercase tracking-wider mb-2">
        <span class="w-1.5 h-1.5 rounded-full bg-yellow-500 animate-pulse"></span>
        Beta Feature
      </div>
      <h2 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
        Sketch Detected!
      </h2>
      <p class="text-gray-300 text-lg md:text-xl max-w-2xl mx-auto">
        We noticed you uploaded a sketch or architectural drawing.
        For the best results, we recommend our specialized <strong>Sketch-to-3D Pipeline</strong>.
      </p>
    </div>

    <!-- Transformation Preview (Placeholders) -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="space-y-3">
        <div class="aspect-square rounded-xl bg-gray-800 overflow-hidden border border-gray-700 relative group">
           <!-- Placeholder for Clay -->
           <div class="absolute inset-x-0 bottom-0 p-2 bg-gradient-to-t from-black/80 to-transparent flex items-end justify-center text-white font-medium z-10">3D Architectural Model</div>
           <%= image_tag "sketch_overlays/step_1_model.png", class: "w-full h-full object-cover group-hover:scale-105 transition duration-500" %>
        </div>
      </div>
      <div class="space-y-3">
        <div class="aspect-square rounded-xl bg-gray-800 overflow-hidden border border-gray-700 relative group">
           <!-- Placeholder for Archi -->
           <div class="absolute inset-x-0 bottom-0 p-2 bg-gradient-to-t from-black/80 to-transparent flex items-end justify-center text-white font-medium z-10">Photorealistic Design</div>
           <%= image_tag "sketch_overlays/step_2_render.png", class: "w-full h-full object-cover group-hover:scale-105 transition duration-500" %>

        </div>
      </div>
      <div class="space-y-3">
        <div class="aspect-square rounded-xl bg-gray-800 overflow-hidden border border-gray-700 relative group">
           <!-- Placeholder for Photo -->
            <div class="absolute inset-x-0 bottom-0 p-2 bg-gradient-to-t from-black/80 to-transparent flex items-end justify-center text-white font-medium z-10">Rotated Perspective</div>
            <%= image_tag "sketch_overlays/step_3_angle.png", class: "w-full h-full object-cover group-hover:scale-105 transition duration-500" %>
        </div>
      </div>
    </div>

    <div class="bg-gray-800/50 rounded-xl p-6 border border-gray-700/50">
      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
        <div class="space-y-2">
            <p class="text-gray-400 text-sm">
              Includes 3D White Model, Photorealistic Design, and a Dynamic Angle view.
              <br>
              <span class="text-secondary font-medium"><%= SketchPipelineService::CREDIT_COST %> credits</span>
            </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 w-full md:w-auto">
          <%= button_to canva_path(canva, canva: { treat_as: :photo }),
              method: :patch,
              class: "text-gray-500 hover:text-gray-300 text-sm font-medium transition py-2 px-4" do %>
              Proceed with Mask
          <% end %>

          <%= button_to canva_sketch_requests_path(canva),
              method: :post,
              class: "cursor-pointer px-8 py-4 rounded-2xl bg-gradient-to-r from-primary to-secondary text-white font-bold text-lg shadow-2xl shadow-primary/40 hover:shadow-primary/60 hover:scale-105 transition-all duration-300 animate-pulse hover:animate-none flex items-center justify-center gap-3 group ring-4 ring-primary/20" do %>
            <span>Start Transformation</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 group-hover:translate-x-1 transition" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          <% end %>
        </div>
      </div>
    </div>

  </div>
</div>
