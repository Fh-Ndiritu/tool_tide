<% content_for :title, "Buy Credits | Pay-As-You-Go AI Garden Design - Hadaa" %>

<% content_for :description, "Purchase credits to unlock unlimited AI garden designs. Simple pay-as-you-go pricing with no subscriptions. Get photorealistic designs, plant recommendations, and shopping lists." %>

<% if @conversion_event %>
  <script>
    gtag('event', 'purchase', {
      'transaction_id': '<%= @conversion_event[:transaction_id] %>',
      'value': <%= @conversion_event[:value] %>,
      'currency': '<%= @conversion_event[:currency] %>',
      'items': [{
        'item_name': 'Pro Credits',
        'quantity': <%= @conversion_event[:credits] %>
      }]
    });
  </script>
<% end %>

<div class="container mx-auto p-4 w-full lg:w-9/12">
  <h1 class="text-3xl font-extrabold mb-10 text-white mt-8 w-full text-center">
    Your <span class="text-[#00acc1]">Design</span> Credits
  </h1>

  <div class="flex flex-col mb-12">
    <div
      class="
        bg-white/10 text-white rounded-3xl shadow-2xl p-8 border border-white/20 backdrop-blur-xl
        transition-all duration-300 hover:shadow-[#00acc1]/20 hover:border-white/30
      "
    >
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-start">
        <!-- Left Column: Balance & CTA -->
        <div class="flex flex-col h-full justify-between">
          <div>
            <div class="flex items-center space-x-3 mb-6">
              <div class="bg-[#00acc1]/20 text-[#00acc1] p-3 rounded-full shadow-lg m-0 border border-[#00acc1]/30">
                <%= render(IconComponent.new(name: "crown", classes: "h-7 w-7")) %>
              </div>
              <h2 class="text-2xl font-bold text-white ml-2">
                Available Credits
              </h2>
            </div>

            <p class="text-6xl font-extrabold text-[#00acc1] mt-2 leading-tight">
              <%= current_user.pro_engine_credits %>
            </p>

            <p class="text-lg text-neutral-300 mt-4">
              Fuel for your next creative breakthrough.
            </p>

            <p class="text-md text-green-400 mt-2 font-semibold opacity-80">
              <%= CREDITS_INFO %>
            </p>
          </div>

          <div class="mt-8 md:mt-12">
             <%= button_to "Add Credits", payment_transactions_path, data: {turbo: false}, method: :post, onclick: "gtag('event', 'begin_checkout', { 'currency': 'USD', 'value': #{DEFAULT_USD_PURCHASE_AMOUNT.to_f} });", class: "w-full md:w-auto cursor-pointer inline-block bg-[#00acc1] text-black font-bold py-4 px-8 rounded-2xl shadow-xl transition-all duration-300 transform hover:scale-[1.02] hover:bg-[#26c6da] ring-4 ring-[#00acc1]/30 text-center text-lg" %>
          </div>
        </div>

        <!-- Right Column: Benefits list -->
        <div class="bg-white/5 rounded-2xl p-6 border border-white/10">
          <h3 class="text-xl font-bold mb-6 text-white border-b border-white/10 pb-4">
             Continue Creating Without Limits
          </h3>

          <ul class="space-y-5">
            <li class="flex items-start space-x-3">
              <%= render(IconComponent.new(name: "check", classes: "h-5 w-5 text-[#00acc1] flex-shrink-0 mt-1")) %>
              <span class="text-neutral-200 leading-snug">Create stunning, realistic <b>3D visualizations</b></span>
            </li>
            <li class="flex items-start space-x-3">
              <%= render(IconComponent.new(name: "check", classes: "h-5 w-5 text-[#00acc1] flex-shrink-0 mt-1")) %>
              <span class="text-neutral-200 leading-snug">Access our complete database of <b>local plants</b></span>
            </li>
            <li class="flex items-start space-x-3">
              <%= render(IconComponent.new(name: "check", classes: "h-5 w-5 text-[#00acc1] flex-shrink-0 mt-1")) %>
              <span class="text-neutral-200 leading-snug">
                 Generate <b>instant shopping lists</b> for your projects
              </span>
            </li>
            <li class="flex items-start space-x-3">
              <%= render(IconComponent.new(name: "check", classes: "h-5 w-5 text-[#00acc1] flex-shrink-0 mt-1")) %>
              <span class="text-neutral-200 leading-snug">Receive expert <b>planting & care guides</b></span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
