<section id="how_it_works" class="py-16 bg-gray-900 text-white">
  <div class="mx-auto px-6 max-w-7xl">
    <h2 class="text-center text-4xl sm:text-5xl font-extrabold mb-4 leading-tight">
      Your Dream Garden in <span class="text-accent">5 Simple Steps</span>
    </h2>

    <p
      class="
        text-center text-lg md:text-2xl max-w-3xl mx-auto mb-20
        text-neutral-300 font-light
      "
    >
      Stop guessing and start designing. Hadaa Ai transforms your vision into a
      photorealistic plan in minutes.
    </p>

    <div data-controller="slider" class="relative">
      <button
        data-action="slider#prev"
        class="
          absolute -left-5 md:-left-8 top-1/2 cursor-pointer
          -translate-y-1/2 bg-primary hover:bg-secondary text-white p-4
          rounded-full shadow-xl z-20 transition duration-300
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          />
        </svg>
      </button>

      <button
        data-action="slider#next"
        class="
          absolute -right-5 md:-right-8 top-1/2 cursor-pointer
          -translate-y-1/2 bg-primary hover:bg-secondary text-white p-4
          rounded-full shadow-xl z-20 transition duration-300
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          />
        </svg>
      </button>

      <div
        data-slider-target="track"
        class="
          flex overflow-hidden scroll-smooth snap-x snap-mandatory gap-6
          lg:gap-8
        "
      >
        <div
          class="
            flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-2 snap-start flex
            flex-col
          "
        >
          <div
            class="
              bg-neutral-800 rounded-2xl shadow-2xl border-4
              border-transparent hover:border-accent transform
              hover:scale-[1.03] transition duration-500 group flex-grow p-1
            "
          >
            <div
              class="relative h-72 bg-cover bg-center rounded-t-xl rounded-b-none"
              style="background-image: url('<%= image_url('how_it_works/upload.webp') %>');"
            >
              <div
                class="
                  absolute inset-0 bg-neutral-900/70 flex items-center
                  justify-center
                "
              >
                <span class="text-7xl font-extrabold text-accent">1</span>
              </div>
            </div>
            <div class="p-7">
              <h3 class="text-3xl font-bold mb-3 text-secondary">
                Upload Your Photo
              </h3>
              <p class="text-base text-neutral-300 leading-relaxed">
                Take or upload a photo of your area. Hadaa instantly uses it as
                the canvas for your
                <b>AI design</b>
                .
              </p>
            </div>
          </div>
        </div>

        <div
          class="
            flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-2 snap-start flex
            flex-col
          "
        >
          <div
            class="
              bg-neutral-800 rounded-2xl shadow-2xl border-4
              border-transparent hover:border-accent transform
              hover:scale-[1.03] transition duration-500 group flex-grow p-1
            "
          >
            <div
              class="relative h-72 bg-cover bg-center rounded-t-xl rounded-b-none"
              style="background-image: url('<%= image_url('how_it_works/brush_tool.webp') %>');"
            >
              <div
                class="
                  absolute inset-0 bg-neutral-900/70 flex items-center
                  justify-center
                "
              >
                <span class="text-7xl font-extrabold text-accent">2</span>
              </div>
            </div>
            <div class="p-7">
              <h3 class="text-3xl font-bold mb-3 text-secondary">
                Brush to Modify
              </h3>
              <p class="text-base text-neutral-300 leading-relaxed">
                Use our
                <b>intuitive brush tool</b>
                to draw directly over areas you want to change, like grass,
                concrete, or hedges.
              </p>
            </div>
          </div>
        </div>

        <div
          class="
            flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-2 snap-start flex
            flex-col
          "
        >
          <div
            class="
              bg-neutral-800 rounded-2xl shadow-2xl border-4
              border-transparent hover:border-accent transform
              hover:scale-[1.03] transition duration-500 group flex-grow p-1
            "
          >
            <div
              class="relative h-72 bg-cover bg-center rounded-t-xl rounded-b-none"
              style="background-image: url('<%= image_url('how_it_works/text_edit.webp') %>');"
            >
              <div
                class="
                  absolute inset-0 bg-neutral-900/70 flex items-center
                  justify-center
                "
              >
                <span class="text-7xl font-extrabold text-accent">3</span>
              </div>
            </div>
            <div class="p-7">
              <h3 class="text-3xl font-bold mb-3 text-secondary">
                Edit with Text ðŸ¤¯
              </h3>
              <p class="text-base text-neutral-300 leading-relaxed">
                <b>Refine your vision</b>
                with text prompts. Tell the AI: "Change the lawn to river stone"
                or "Add a cottage garden style."
              </p>
            </div>
          </div>
        </div>

        <div
          class="
            flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-2 snap-start flex
            flex-col
          "
        >
          <div
            class="
              bg-neutral-800 rounded-2xl shadow-2xl border-4
              border-transparent hover:border-accent transform
              hover:scale-[1.03] transition duration-500 group flex-grow p-1
            "
          >
            <div
              class="relative h-72 bg-cover bg-center rounded-t-xl rounded-b-none"
              style="background-image: url('<%= image_url('how_it_works/get_design.webp') %>');"
            >
              <div
                class="
                  absolute inset-0 bg-neutral-900/70 flex items-center
                  justify-center
                "
              >
                <span class="text-7xl font-extrabold text-accent">4</span>
              </div>
            </div>
            <div class="p-7">
              <h3 class="text-3xl font-bold mb-3 text-secondary">
                Instant AI Design
              </h3>
              <p class="text-base text-neutral-300 leading-relaxed">
                Get a
                <b>stunning, photorealistic</b>
                design based on your inputs and selected style. Experiment until
                it's perfect!
              </p>
            </div>
          </div>
        </div>

        <div
          class="
            flex-shrink-0 w-full md:w-1/2 lg:w-1/3 p-2 snap-start flex
            flex-col
          "
        >
          <div
            class="
              bg-neutral-800 rounded-2xl shadow-2xl border-4
              border-transparent hover:border-accent transform
              hover:scale-[1.03] transition duration-500 group flex-grow p-1
            "
          >
            <div
              class="relative h-72 bg-cover bg-center rounded-t-xl rounded-b-none"
              style="background-image: url('<%= image_url('how_it_works/shopping_list.webp') %>');"
            >
              <div
                class="
                  absolute inset-0 bg-neutral-900/70 flex items-center
                  justify-center
                "
              >
                <span class="text-7xl font-extrabold text-accent">5</span>
              </div>
            </div>
            <div class="p-7">
              <h3 class="text-3xl font-bold mb-3 text-secondary">
                Get the Action Plan
              </h3>
              <p class="text-base text-neutral-300 leading-relaxed">
                Receive a
                <b>comprehensive shopping list</b>
                and
                <b>easy-to-follow instructions</b>
                to bring your final design to life.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="flex mt-20 w-full justify-center px-4">
    <%= render ButtonComponent.new(
        text: "Generate Your First Design - It's FREE!",
      href: new_user_registration_path,
      classes: "bg-accent hover:bg-yellow-500 text-black font-extrabold text-xl py-5 px-12 rounded-full shadow-[0_10px_30px_-10px_rgba(255,200,0,0.8)] transition duration-300 ease-in-out transform hover:scale-105"
      ) %>
  </div>
</section>
