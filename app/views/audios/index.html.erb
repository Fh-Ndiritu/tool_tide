<% content_for :title, "Audios" %>

<!-- Main content container: centered and responsive -->
<div class="max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
  <% if notice.present? %>
    <!-- Notice styled with theme colors -->
    <p class="py-2 px-3 bg-green-500/10 mb-5 text-green-700 font-medium rounded-lg inline-block border border-green-500" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center mb-6 border-b border-neutral-300 pb-4">
    <!-- Heading uses --color-text-dark -->
    <h1 class="font-bold text-4xl text-neutral-900">Audio Generations</h1>

    <!-- New Audio Button uses --color-cta-bg -->
    <%= link_to "New audio", new_audio_path,
      class: "rounded-lg px-4 py-2 bg-cta-bg hover:bg-primary text-text-light inline-block font-bold shadow-md transition duration-200 focus:outline-none focus:ring-4 focus:ring-primary focus:ring-opacity-50" %>
  </div>

  <div id="audios" class="min-w-full space-y-4">
    <% if @audios.any? %>
      <% @audios.each do |audio| %>
        <!-- Clean Card Link Structure -->
        <%= link_to audio_path(audio),
          class: "no-underline block bg-white rounded-xl shadow-lg border border-neutral-300 transition duration-300 ease-in-out hover:shadow-xl hover:border-primary group" do %>

          <div class="flex items-center py-4 px-6">

            <!-- Renders the COMPACT view of the partial (which holds the content/style prompt) -->
            <div class="flex-1 min-w-0">
              <%= render audio, compact: true %>
            </div>

            <!-- Subtle arrow icon uses primary color on hover -->
            <div class="flex-shrink-0 ml-4 text-neutral-500 group-hover:text-primary transition duration-200">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
              </svg>
            </div>

          </div>
        <% end %>
      <% end %>
    <% else %>
      <div class="bg-white rounded-xl border border-neutral-300 shadow-lg">
        <p class="text-center py-12 text-neutral-700 font-medium bg-neutral-100 rounded-b-xl">
          No audio generations found. Click "New audio" to get started!
        </p>
      </div>
    <% end %>
  </div>
</div>
