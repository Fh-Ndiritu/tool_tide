<h1 class="text-2xl font-bold text-white mb-6 flex items-center">
  <span class="p-2 bg-orange-500 rounded-lg mr-3 shadow-lg shadow-orange-500/50">ðŸ“¡</span>
  Trend Radar
</h1>

<div class="bg-gray-900 border border-gray-800 rounded-lg p-6 mb-8">
  <h2 class="text-gray-400 font-bold uppercase text-xs tracking-wider mb-4">Signal Incoming Volume (Daily)</h2>
  <!-- Using Chartkick -->
  <%= line_chart Agora::Trend.all.uniq.group_by { |t| t.created_at.to_date }.transform_values(&:count), colors: ["#f97316"], library: {backgroundColor: "#transparent", scales: { x: { grid: { display: false } }, y: { grid: { color: "#374151" } } } } %>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <% @trends.each do |trend| %>
    <div class="bg-gray-900 border border-gray-800 rounded-lg p-5 hover:border-orange-500 transition-colors duration-300 group">
      <div class="flex justify-between items-start mb-3">
        <span class="text-xs font-mono text-orange-400 bg-orange-900/30 px-2 py-1 rounded">
          <%= trend.created_at.strftime("%b %d") %>
        </span>
        <span class="text-gray-600 text-xs text-right">ID: <%= trend.id %></span>
      </div>

      <h3 class="text-lg font-bold text-gray-200 mb-2 group-hover:text-orange-400 transition-colors">
        <%= trend.content['trend_name'] rescue "Raw Signal" %>
      </h3>

      <p class="text-sm text-gray-400 mb-4 line-clamp-3">
        <%= trend.content['viral_hook_idea'] rescue trend.content %>
      </p>

      <div class="text-xs text-gray-600 pt-3 border-t border-gray-800">
        Intersection: <%= trend.content['intersection_reason'] rescue "N/A" %>
      </div>
    </div>
  <% end %>
</div>
