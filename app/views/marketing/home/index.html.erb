<%# START: SEO/Metadata Definitions %>

<% content_for(:title, "Hadaa: AI Landscape Design Generator – Free Plan, no card required") %>

<% content_for(:description, "The most advanced AI landscape design tool. Upload a photo, use the brush editor and get 3D results. Intelligent editing with text prompts.") %>

<% content_for(:keywords, "free AI landscaping design, free plan landscape design, AI garden design no credit card, generate garden images free, realistic landscape design, online landscaping tool, visualize outdoor spaces, garden planner, landscape creator, AI garden generator, Hadaa Ai, free mask designer, free AI editor") %>

<% content_for(:og_title, "Try Hadaa Ai FREE | AI Landscaping Design Tool - No Credit Card") %>

<% content_for(:og_description, "Start FREE with Hadaa Ai - no credit card needed! Try our Mask Designer and AI Editor to transform your landscaping visions into stunning, photorealistic designs. Perfect for homeowners, designers, and enthusiasts.") %>

<% content_for(:og_image_alt, "Screenshot of Hadaa Ai generating a beautiful, realistic garden image") %>

<% content_for(:twitter_title, "Try FREE AI Landscape Design | No Credit Card Required") %>

<% content_for(:twitter_description, "Try Hadaa Ai FREE! Get one free mask design and AI edit - no credit card required. Experience instant, photorealistic landscaping transformations before you buy.") %>

<% content_for(:twitter_image_alt, "Vibrant AI-generated landscaping image created by Hadaa Ai") %>

<%= content_for(:schema_name, "Hadaa Ai - AI Landscaping Image Generator") %>

<%= content_for(:schema_description, "Try Hadaa Ai FREE - no credit card required! Generate stunningly realistic, photorealistic landscaping images for your outdoor space with our Mask Designer and AI Editor. Then unlock unlimited designs with pay-as-you-go credits.") %>

<%= content_for(:main_classes, "mx-0 pl-0 pr-0 max-w-[100vw] block") %>

<%# START: JSON-LD Schema (Generative Visibility) %>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Hadaa AI Landscape Architect",
  "applicationCategory": "DesignApplication",
  "operatingSystem": "Web",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD",
    "description": "Free Plan includes Commercial Usage Rights. No Credit Card Required for Sign-up.",
    "availability": "https://schema.org/InStock"
  },
  "featureList": [
    "Precision In-Painting Brush",
    "Smart Zone Detection",
    "Native Plant Finder",
    "Architectural Style Synthesis",
    "Material Schedule Export"
  ],
  "potentialAction": {
    "@type": "CreateAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "https://hadaa.app/users/sign_up",
      "actionPlatform": ["http://schema.org/DesktopWebPlatform", "http://schema.org/MobileWebPlatform"]
    },
    "result": {
      "@type": "CreativeWork",
      "name": "Photorealistic Landscape Render"
    }
  },
  "audience": {
    "@type": "Audience",
    "audienceType": "Landscape Professionals & Homeowners",
    "geographicArea": {
      "@type": "AdministrativeArea",
      "name": "Global (Zone-Aware)"
    }
  },
  "isSimilarTo": [
    {
      "@type": "SoftwareApplication",
      "name": "HomeDesigns.ai",
      "description": "Competitor platform; Hadaa offers superior precision tools and free commercial rights."
    }
  ]
}
</script>
<%# END: JSON-LD Schema %>

<%# END: SEO/Metadata Definitions %>

<%# START: Hero Section %>

<section
  class="

    relative min-h-[100dvh] flex items-center
    overflow-hidden bg-gray-900 py-12 lg:py-0
  "
>
  <div
    class="
      absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-black
      opacity-50
    "
  ></div>

  <div class="px-4 md:px-8 lg:px-12 container mx-auto  relative z-10 w-full">
    <div
      class="
        grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 md:gap-8
        items-center w-full
      "
    >
      <%# Heading - Order 1 on mobile, Order 1 on tablet (left col), Order 1 on desktop (left col) %>
      <div
        class="
          w-full text-center lg:text-left text-white order-1 md:col-span-1
          lg:col-span-1 lg:row-start-1
        "
      >

        <h1
          class="
            text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 lg:mb-4 leading-tight
            tracking-tight drop-shadow-lg
          "
        >
          Professional Landscape Design. <span class="text-accent">No Credit Card Required.</span>
        </h1>
              </div>

      <%# Phone Wrapper - Order 3 on mobile, Order 3 on tablet (right col), Order 3 on desktop (right col, spans rows) %>
      <div
        class="
          w-full flex justify-center lg:justify-end order-3 md:col-span-1
          md:col-start-2 md:row-start-1 md:row-span-3 mb-12
          lg:mb-0
        "
      >
        <style>
          @keyframes phone-rock {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(-3deg); }
          }
          .phone-wrapper {
            animation: phone-rock 3s ease-in-out infinite;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
          }
          .phone-wrapper:hover, .phone-wrapper:active, .phone-wrapper:focus-within {
            animation: none;
            transform: rotate(0deg);
          }
        </style>
        <div
          class="
            phone-wrapper relative mx-auto border-[#f37f3c] bg-[#f37f3c]
            border-[8px] md:border-[14px] rounded-[2rem] md:rounded-[2.5rem]
            w-[260px] h-[520px] sm:w-[300px] sm:h-[600px]
            shadow-2xl shadow-accent/20
            origin-center transition-transform hover:rotate-0
          "
        >
          <div
            class="
              w-[120px] md:w-[148px] h-[18px] bg-black top-0 rounded-b-[1rem] left-1/2
              -translate-x-1/2 absolute z-20
            "
          ></div>

          <div
            class="
              h-[28px] md:h-[32px] w-[3px] bg-[#f37f3c] absolute -left-[11px] md:-left-[17px] top-[72px]
              rounded-l-lg
            "
          ></div>

          <div
            class="
              h-[40px] md:h-[46px] w-[3px] bg-[#f37f3c] absolute -left-[11px] md:-left-[17px]
              top-[124px] rounded-l-lg
            "
          ></div>

          <div
            class="
              h-[40px] md:h-[46px] w-[3px] bg-[#f37f3c] absolute -left-[11px] md:-left-[17px]
              top-[178px] rounded-l-lg
            "
          ></div>

          <div
            class="
              h-[50px] md:h-[64px] w-[3px] bg-[#f37f3c] absolute -right-[11px] md:-right-[17px]
              top-[142px] rounded-r-lg
            "
          ></div>

          <div
            class="
              rounded-[1.5rem] md:rounded-[2rem] overflow-hidden w-full h-full bg-black relative
              z-10
            "
          >
            <div
              data-controller="carousel"
              data-carousel-images-value="<%= [ 'carousel/carousel_modern.webp', 'carousel/carousel_mediterranean.webp','carousel/carousel_tropical.webp', 'carousel/carousel_zen.webp', 'carousel/carousel_desert.webp', 'carousel/carousel_cottage.webp'].map { |v| asset_path(v) }.to_json %>"
              class="w-full h-full bg-black relative overflow-hidden"
            >
            </div>
          </div>
        </div>
      </div>

      <%# Description - Order 2 on mobile, Order 2 on tablet, Order 2 on desktop (left col, middle) %>
      <div
        class="
          w-full text-center md:text-left text-white order-2 md:col-span-1
          md:col-start-1 md:row-start-2 flex flex-col
          items-center md:items-start
        "
      >

        <p
          class="
            text-base md:text-lg max-w-xl md:max-w-2xl mx-auto md:mx-0 mb-8
            text-neutral-200 leading-relaxed
          "
        >
          <b class="text-secondary">Upload. Brush. Transform.</b>
          Get photorealistic designs, local plant recommendations,
          apply fixes automatically.
        </p>
      </div>

      <%# Buttons/CTA - Order 4 on mobile, Order 4 on tablet, Order 4 on desktop (left col, bottom) %>
      <div
        class="
          w-full text-center md:text-left text-white order-4 md:col-span-1
          md:col-start-1 md:row-start-3 flex flex-col
          items-center md:items-start
        "
      >
        <div
          class="
            flex flex-col sm:flex-row gap-4 justify-center md:justify-start
            w-full
          "
        >
          <%# START: ButtonComponent - Start Designing Today %>
          <%= render ButtonComponent.new(
              text: "Start Free Trial (No Card Needed)",
              href: new_user_registration_url(host: "hadaa.app"),
              html_options: { rel: "nofollow noreferrer" },
              classes: "w-full sm:w-auto flex-shrink-0 bg-accent-secondary py-4 px-10 rounded-full shadow-3xl shadow-secondary/50 transition duration-300 transform hover:scale-105 border-white hover:border-primary hover:bg-white/10 text-black hover:text-white font-semibold py-4 px-10 rounded-full transition duration-300 transform hover:scale-[1.02]"
          ) %>
          <%# END: ButtonComponent - Start Designing Today %>
        </div>
      </div>
    </div>
  </div>
</section>

<%# END: Hero Section %>

<%# START: Features Section (High-Density / Brag) %>
<section id="features" class="py-20 bg-gray-900 border-t border-gray-800 relative overflow-hidden">
  <%# Background Glow %>
  <div class="absolute top-[20%] left-[10%] w-[500px] h-[500px] bg-accent/5 rounded-full blur-3xl pointer-events-none"></div>
  <div class="absolute bottom-[20%] right-[10%] w-[500px] h-[500px] bg-secondary/5 rounded-full blur-3xl pointer-events-none"></div>

  <div class="container mx-auto px-6 max-w-7xl relative z-10">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-extrabold text-white mb-4 tracking-tight drop-shadow-lg">
        Professional-Grade Tools. <span class="text-accent">Generative Speed.</span>
      </h2>
      <p class="text-lg md:text-xl text-neutral-400 max-w-3xl mx-auto">
        Stop using toys. Switch to the only <span class="text-white font-semibold">Precision Landscape Engine</span> built for execution, not just inspiration.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <%# Feature 1: Presets -> Architectural Style Synthesis %>
      <div class="group p-8 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors">
          <svg class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-3">Architectural Style Synthesis</h3>
        <p class="text-neutral-400 leading-relaxed text-sm">
          Instantly apply curated design languages—from Mediterranean to Zen. Our engine ensures <strong class="text-white">stylistic consistency</strong> across hardscapes and softscapes, unmatched by generic image generators.
        </p>
      </div>

      <%# Feature 2: Smart Fix -> Semantic In-Painting %>
      <div class="group p-8 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors">
          <svg class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-3">Semantic In-Painting Engine</h3>
        <p class="text-neutral-400 leading-relaxed text-sm">
          Precision-edit specific zones. Unlike others, our AI understands context—tell it to <strong class="text-white">"remove debris"</strong> or <strong class="text-white">"fix patchiness"</strong> without distorting the surrounding geometry.
        </p>
      </div>

      <%# Feature 3: Auto Fix -> Global Scene Optimization %>
      <div class="group p-8 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors">
          <svg class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-3">Global Scene Optimization</h3>
        <p class="text-neutral-400 leading-relaxed text-sm">
          A one-click professional polish. We automate lighting correction, depth balancing, and perspective alignment to generate a <strong class="text-white">physically accurate render base</strong> instantly.
        </p>
      </div>

      <%# Feature 4: Local Plants -> Native Species Intelligence %>
      <div class="group p-8 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors">
          <svg class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-3">Native Species Intelligence</h3>
        <p class="text-neutral-400 leading-relaxed text-sm">
          Don't just visualize; <strong class="text-white">validate</strong>. Our engine provides zone-aware plant recommendations that match your climate data, ensuring generated gardens are biologically viable.
        </p>
      </div>

      <%# Feature 5: Guide -> Execution Schematics %>
      <div class="group p-8 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors">
          <svg class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-3">Execution Schematics</h3>
        <p class="text-neutral-400 leading-relaxed text-sm">
          Bridge the gap between generative art and construction reality. We interpret your design into <strong class="text-white">step-by-step installation logic</strong> automatically.
        </p>
      </div>

      <%# Feature 6: Shopping List -> Bill of Quantities %>
      <div class="group p-8 bg-white/5 backdrop-blur-sm rounded-2xl border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all duration-300 transform hover:-translate-y-1">
        <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors">
          <svg class="w-6 h-6 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-3">Bill of Quantities (BOQ)</h3>
        <p class="text-neutral-400 leading-relaxed text-sm">
          Stop guessing costs. Get an automated material takeoff with <strong class="text-white">exact plant counts</strong> and hardscape area estimates for instant contractor quoting.
        </p>
      </div>
    </div>
  </div>
</section>

<%# START: Explore/FOMO Section %>

<section
  id="explore-fomo"
  class="py-10 bg-neutral-900 text-white overflow-hidden"
>
  <div class="mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">


    <%# START: Design Grid/Gallery %>
    <div class="text-center mb-16">
      <h2
        class="
          text-4xl md:text-6xl font-extrabold mb-4 leading-tight text-white
          drop-shadow-lg
        "
      >
        Don't Just Dream It.
        <span class="text-accent block sm:inline">See What's Possible.</span>
      </h2>
      <p class="text-xl md:text-2xl max-w-4xl mx-auto text-neutral-300">
        Join the
        <b>10,000+ designers</b>
        turning ideas into reality. These designs were generated in the last 24
        hours.
      </p>
    </div>

    <div class="w-full justify-center mt-20">
      <div
        class="w-full max-w-full"
        data-controller="masonry"
        data-masonry-item-selector-value=".masonry-item"
      >
        <%# START: Mask Requests (Image-to-Image Designs) %>
        <% @mask_requests.each_with_index do |request, index| %>
          <% if image = request.face_image %>
            <div class="masonry-item w-full sm:w-1/2 md:w-1/3 lg:w-1/4 p-0 mb-0">
              <div
                class="
                  overflow-hidden cursor-pointer
                  transition-all duration-300 ease-in-out
                  hover:scale-[1.03] hover:z-10 relative group w-full
                "
              >
                <%= image_tag url_for(image.variant(resize_to_limit: [400, 400])),
                    loading: index < 10 ? :eager : :lazy,
                    alt: "AI Landscaping Design in #{request.preset.humanize} Style - AI garden design example",
                    title: "#{request.preset.humanize} Style Design",
                    class: "w-full h-auto block" %>
               <%= content_tag :h4, "#{request.preset.humanize} Style", class: "flex w-fit items-center absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-sm text-white text-sm font-medium px-4 py-1.5 rounded-full opacity-80 group-hover:opacity-100 transition-opacity duration-300" %>
              </div>
            </div>
          <% end %>
        <% end %>

        <%# END: Mask Requests (Image-to-Image Designs) %>
      </div>
    </div>

    <div class="text-center mt-12 mb-10">
      <%= link_to explore_path, class: "inline-flex items-center justify-center gap-2 bg-gradient-to-r from-accent to-secondary text-black font-bold text-lg py-4 px-10 rounded-full hover:shadow-2xl hover:shadow-accent/50 transition-all duration-300 transform hover:scale-105" do %>
        <span>Explore All Designs</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      <% end %>
    </div>

    <%# END: Design Grid/Gallery %>
  </div>
</section>

<%# END: Explore/FOMO Section %>

<%# START: How It Works Section (Stimulus Slider) %>

<%# START: How It Works Section (Sticky Scrollytelling) %>

<section
  id="how_it_works"
  class="py-20 bg-gray-900 text-white relative"
  data-controller="scroll-spy"
  data-scroll-spy-active-class="opacity-100 scale-100"
>
  <div class="container mx-auto px-6 max-w-7xl">
    <div class="text-center mb-20">
      <h2
        class="
          text-4xl md:text-6xl font-extrabold mb-6 leading-tight
          drop-shadow-lg
        "
      >
        Your Dream Garden in <span class="text-accent">Simple Steps</span>
      </h2>
      <p class="text-lg md:text-2xl max-w-3xl mx-auto text-neutral-300 font-light">
        Stop guessing. Start designing. Watch your vision come to life.
      </p>
    </div>

    <div class="flex flex-col md:flex-row gap-12 lg:gap-24">
      <%# LEFT COLUMN: Sticky Image Container (Desktop) %>
      <div class="hidden md:block w-1/2 relative">
        <div
          class="
            sticky top-32 h-[60vh] min-h-[400px] max-h-[600px] w-full
            bg-neutral-800 rounded-3xl overflow-hidden shadow-2xl border
            border-neutral-700
          "
        >
          <div
            class="
              absolute inset-0 bg-gradient-to-t from-black/60
              via-transparent to-transparent z-10
            "
          ></div>

          <%= image_tag 'how_it_works/step_1_ui.webp',
              class: "w-full h-full object-cover transition-opacity duration-300 ease-in-out",
              alt: "AI landscape design generator upload photo step",
              data: { scroll_spy_target: "image" } %>

          <%# Decorative Elements %>
          <div class="absolute bottom-8 left-8 z-20">
            <div
              class="
                flex items-center gap-3 bg-black/50 backdrop-blur-md px-4
                py-2 rounded-full border border-white/10
              "
            >
              <div class="w-2 h-2 rounded-full bg-accent animate-pulse"></div>
              <span class="text-sm font-medium text-white">Live Preview</span>
            </div>
          </div>
        </div>
      </div>

      <%# RIGHT COLUMN: Scrolling Steps %>
      <div class="w-full md:w-1/2 flex flex-col gap-16 md:py-10 lg:py-20">
        <% steps = [
          { title: "Site Context Upload", desc: "Upload your site photos. We instantly calibrate scale and perspective to ensure your base canvas is <strong class='text-white'>dimensionally accurate</strong> for realistic planning.", img: "how_it_works/step_1_ui.webp", num: "01" },
          { title: "Precision Area Masking", desc: "Define renovation zones with surgical accuracy. Isolate specific hardscapes or planting beds while <strong class='text-white'>protecting existing elements</strong> you want to keep.", img: "how_it_works/step_2_ui.webp", num: "02", link: features_brush_prompt_editor_path, link_text: "Explore Smart Brush" },
          { title: "Architectural Style Selection", desc: "Apply rigorously curated design grammars—from Modern Minimalist to English Cottage—ensuring <strong class='text-white'>coherent aesthetics</strong> across your entire project.", img: "how_it_works/step_3_ui.webp", num: "03", link: features_preset_style_selection_path, link_text: "See Style Library" },
          { title: "Planting & Material Specs", desc: "Move to execution. Generate a <strong class='text-white'>biologically valid planting schedule</strong> and hardscape bill of quantities based on your selected design.", img: "how_it_works/step_4_ui.webp", num: "04", link: features_shopping_list_planting_guide_path, link_text: "View Sample Specs" },
          { title: "Natural Language Refinement", desc: "Iterate with words. Command the engine to <strong class='text-white'>'replace turf with clover'</strong> or 'add a fire pit' using simple text prompts for total control.", img: "how_it_works/step_5_ui.webp", num: "05" }
        ] %>

        <% steps.each_with_index do |step, index| %>
          <div
            class="
              step-card flex flex-col gap-6 transition-all duration-500
              ease-out opacity-40 scale-95 origin-left min-h-[auto] md:min-h-[30vh]
              justify-center
            "
            data-scroll-spy-target="step"
            data-step-index="<%= index %>"
            data-image-url="<%= asset_path(step[:img]) %>"
          >
            <%# Mobile Image (Visible only on mobile) %>
            <div
              class="
                md:hidden w-full h-64 md:h-96 rounded-2xl overflow-hidden
                shadow-lg mb-4 relative group
              "
            >
              <%= image_tag step[:img], class: "w-full h-full object-cover", alt: "#{step[:title]} - AI garden design step" %>
              <div
                class="
                  absolute top-4 left-4 bg-black/60 backdrop-blur px-3 py-1
                  rounded-full text-xs font-bold text-accent border
                  border-accent/20
                "
              >
                Step <%= step[:num] %>
              </div>
            </div>

            <div class="flex items-start gap-6">
              <span
                class="
                  hidden md:block text-6xl font-black text-transparent
                  bg-clip-text bg-gradient-to-br from-accent to-neutral-700
                  opacity-50
                "
              >
                <%= step[:num] %>
              </span>
              <div>
                <h3 class="text-3xl md:text-4xl font-bold text-white mb-4">
                  <%= step[:title] %>
                </h3>
                <p class="text-lg text-neutral-400 leading-relaxed max-w-md">
                  <%= raw step[:desc] %>
                </p>

                <% if step[:link] %>
                  <%= link_to step[:link], class: "inline-flex items-center gap-2 text-accent font-semibold text-sm hover:text-white transition-colors group/link mt-2" do %>
                    <span><%= step[:link_text] %></span>
                    <svg class="w-4 h-4 transform group-hover/link:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg>
                  <% end %>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <div class="flex mt-20 w-full justify-center px-4">
      <%= render ButtonComponent.new(
          text: "Start Designing Now - It's Free!",
          href: new_user_registration_url(host: "hadaa.app"),
          html_options: { rel: "nofollow noreferrer" },
          classes: "bg-accent hover:bg-accent/80 text-black font-extrabold text-xl py-5 px-12 rounded-full shadow-[0_10px_40px_-10px_rgba(0,172,193,1)] transition duration-300 ease-in-out transform hover:scale-[1.15]"
        ) %>
    </div>
  </div>
</section>

<%# END: How It Works Section (Sticky Scrollytelling) %>



