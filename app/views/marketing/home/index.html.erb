<%# START: SEO/Metadata Definitions %>
<% content_for :title, "Fire Your Landscaper: AI Landscape designer & visualizer" %>
<% content_for :description, "Fire your designer. Stop just imagining and start seeing. Get construction-ready plans, native plant lists, and material specs from a single photo." %>
<% content_for(:keywords, "AI landscape design, landscape architect AI, garden planner, planting guide generator, construction ready landscape plans, hardscape design, native plant finder, Hadaa pro") %>
<% content_for(:main_classes, "mx-0 pl-0 pr-0 max-w-[100vw] block bg-[#0f0f0f]") %>

<% content_for :head do %>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Hadaa",
      "url": "https://hadaa.app",
      "logo": "<%= asset_url('hadaa.png') %>",
      "sameAs": [
        "https://web.facebook.com/hadaa.app/",
        "https://www.tiktok.com/@hadaa.app",
        "https://www.linkedin.com/company/hadaa-app"
      ]
    }
  </script>
<% end %>

<%# HERO SECTION %>
<%# HERO SECTION %>
<section class="relative min-h-[90vh] flex flex-col items-center justify-center py-32 px-6 overflow-hidden bg-[#0f0f0f] text-white">
   <%# Background Ambient Glow (Subtle) %>
   <div class="absolute top-0 left-0 w-full h-[500px] bg-gradient-to-b from-[#00acc1]/5 to-transparent pointer-events-none"></div>

   <div class="relative z-10 max-w-5xl mx-auto text-center space-y-8 animate-fade-in-up">
      <%# Trusted By Badge %>
      <div class="flex items-center justify-center gap-4 mb-4">
         <div class="flex -space-x-3">
             <%= image_tag "testimonials/avatar1.png", class: "w-10 h-10 rounded-full border-2 border-[#0f0f0f]", alt: "User" %>
             <%= image_tag "testimonials/avatar2.png", class: "w-10 h-10 rounded-full border-2 border-[#0f0f0f]", alt: "User" %>
             <%= image_tag "testimonials/avatar4.png", class: "w-10 h-10 rounded-full border-2 border-[#0f0f0f]", alt: "User" %>
             <div class="w-10 h-10 rounded-full border-2 border-[#0f0f0f] bg-[#27272a] flex items-center justify-center text-[10px] font-bold text-white">+2k</div>
         </div>
         <span class="text-neutral-400 text-sm font-medium">Trusted by <strong class="text-white">10,000+</strong> homeowners & landscapers</span>
      </div>

      <h1 class="text-6xl md:text-8xl font-serif font-medium tracking-tight leading-[1] drop-shadow-2xl">
         Fire your
         <span class="font-sans font-black text-transparent bg-clip-text bg-gradient-to-r from-[#00acc1] to-[#f23faf]">
            landscaper.
         </span>
      </h1>
      <p class="text-xl md:text-2xl text-neutral-300 max-w-3xl mx-auto font-light leading-relaxed">
         The first AI landscape architect that actually works. Visualize your garden, auto detect and fix issues,  edit, and plan your perfect garden in minutes. Get biologically accurate planting guides instantly.
      </p>

      <div class="flex flex-col items-center gap-4 pt-8">
         <%= link_to "Start Designing Now", new_user_registration_url, class: "px-10 py-5 bg-white text-black text-xl font-black rounded-full hover:scale-105 transition-transform duration-300 shadow-[0_0_40px_rgba(255,255,255,0.2)]" %>
         <span class="text-xs font-bold text-neutral-500 tracking-widest uppercase">
            Accurate yard and garden designs â€¢ GPU-Accelerated Rendering
         </span>
      </div>
   </div>

   <%# Video Placeholder %>
   <div class="hidden container mx-auto max-w-6xl mt-24 relative z-10 animate-fade-in-up" style="animation-delay: 0.2s">
      <div class="relative rounded-2xl overflow-hidden border border-white/10 shadow-2xl bg-[#18181b] aspect-video">
         <div class="absolute inset-0 flex items-center justify-center bg-black/50 group cursor-pointer">
            <div class="w-20 h-20 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/20 transition-colors">
               <svg class="w-8 h-8 text-white ml-1" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z" />
               </svg>
            </div>
         </div>
         <%# Placeholder for actual video %>
         <%= image_tag "home/hero.webp", class: "w-full h-full object-cover opacity-60", alt: "Demo Video Thumbnail" %>
      </div>
      <%# Glow behind video %>
      <div class="absolute -inset-4 bg-gradient-to-r from-[#00acc1]/20 to-[#f23faf]/20 blur-2xl -z-10 rounded-[30px] opacity-50"></div>
   </div>
</section>

<%# TESTIMONIALS SECTION (Borrowed & Updated) %>
<section class="py-24 px-6 relative overflow-hidden bg-[#121212]">
   <div class="relative z-10 max-w-7xl mx-auto">
      <div class="grid md:grid-cols-3 gap-8">
         <%# Testimonial 1 %>
         <div class="bg-[#18181b] border border-white/5 p-8 rounded-3xl shadow-xl hover:translate-y-[-5px] transition-transform duration-300 relative group">
            <div class="mb-6"><span class="text-6xl text-white/5 font-serif font-black absolute top-4 left-6">â€œ</span></div>
            <div class="flex text-[#ffb400] mb-6 relative">
               <% 5.times do %><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" /></svg><% end %>
            </div>
            <p class="text-neutral-300 mb-8 text-lg font-medium leading-relaxed relative z-10">"I was quoted $5,000 just for a concept plan. Hadaa gave me 4 stunning variations and a shopping list for $10. I handed the printout to my contractor and we started digging the next day."</p>
            <div class="flex items-center gap-4 pt-6 mt-auto border-t border-white/10">
               <div class="w-12 h-12 rounded-full overflow-hidden border border-white/10 shrink-0">
                  <%= image_tag "testimonials/avatar2.png", class: "w-full h-full object-cover" %>
               </div>
               <div>
                  <div class="text-white font-bold text-lg leading-tight">Michael R.</div>
                  <div class="text-xs font-medium mt-1 flex flex-wrap items-center gap-2">
                     <span class="text-[#00acc1] uppercase tracking-wide">Homeowner</span>
                     <span class="text-neutral-600">â€¢</span>
                     <span class="flex items-center gap-1 text-[#f23faf]">
                        <span class="text-xs">ðŸ’Ž</span>
                        Verified Purchase
                     </span>
                  </div>
               </div>
            </div>
         </div>
         <%# Testimonial 2 %>
         <div class="bg-[#18181b] border border-white/5 p-8 rounded-3xl shadow-xl hover:translate-y-[-5px] transition-transform duration-300 relative group">
            <div class="mb-6"><span class="text-6xl text-white/5 font-serif font-black absolute top-4 left-6">â€œ</span></div>
            <div class="flex text-[#ffb400] mb-6 relative">
               <% 5.times do %><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" /></svg><% end %>
            </div>
            <p class="text-neutral-300 mb-8 text-lg font-medium leading-relaxed relative z-10">"This tool replaced my entire rendering workflow. I used to spend 3 days on SketchUp for a client pitch. Now I do it in 15 minutes during the consultation. It pays for itself 10x over on every job."</p>
            <div class="flex items-center gap-4 pt-6 mt-auto border-t border-white/10">
               <div class="w-12 h-12 rounded-full overflow-hidden border border-white/10 shrink-0">
                  <%= image_tag "testimonials/avatar1.png", class: "w-full h-full object-cover" %>
               </div>
               <div>
                  <div class="text-white font-bold text-lg leading-tight">Sarah Jenkins</div>
                  <div class="text-xs font-medium mt-1 flex flex-wrap items-center gap-2">
                     <span class="text-[#00acc1] uppercase tracking-wide">Architect</span>
                     <span class="text-neutral-600">â€¢</span>
                     <span class="flex items-center gap-1 text-[#f23faf]">
                        <span class="text-xs">ðŸ’Ž</span>
                        Verified Purchase
                     </span>
                  </div>
               </div>
            </div>
         </div>
         <%# Testimonial 3 %>
         <div class="bg-[#18181b] border border-white/5 p-8 rounded-3xl shadow-xl hover:translate-y-[-5px] transition-transform duration-300 relative group">
            <div class="mb-6"><span class="text-6xl text-white/5 font-serif font-black absolute top-4 left-6">â€œ</span></div>
            <div class="flex text-[#ffb400] mb-6 relative">
               <% 5.times do %><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" /></svg><% end %>
            </div>
            <p class="text-neutral-300 mb-8 text-lg font-medium leading-relaxed relative z-10">"We use this to stage every listing with a 'fixer-upper' yard. Showing buyers the potential adds measurable value to the final sale price. The 'Auto Fix' feature is magic for curb appeal."</p>
            <div class="flex items-center gap-4 pt-6 mt-auto border-t border-white/10">
               <div class="w-12 h-12 rounded-full overflow-hidden border border-white/10 shrink-0">
                  <%= image_tag "testimonials/avatar4.png", class: "w-full h-full object-cover" %>
               </div>
               <div>
                  <div class="text-white font-bold text-lg leading-tight">David Chen</div>
                  <div class="text-xs font-medium mt-1 flex flex-wrap items-center gap-2">
                     <span class="text-[#00acc1] uppercase tracking-wide">Developer</span>
                     <span class="text-neutral-600">â€¢</span>
                     <span class="flex items-center gap-1 text-[#f23faf]">
                        <span class="text-xs">ðŸ’Ž</span>
                        Verified Purchase
                     </span>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</section>

<%# CUSTOMERS CAN'T STOP RAVING (Gallery) %>
<% if @gallery_images.any? %>
<section class="py-24 px-6 bg-[#0f0f0f]">
  <div class="max-w-[1600px] mx-auto">
    <div class="text-center mb-16">
       <div class="flex items-center justify-center gap-2 mb-4">
         <% 5.times do %>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-[#ffb400]">
              <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
            </svg>
         <% end %>
       </div>
      <h2 class="text-4xl md:text-5xl font-black mb-6 text-white tracking-tight">"Customers can't stop raving"</h2>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
      <% @gallery_images.each do |filename| %>
         <div class="aspect-[4/3] rounded-2xl overflow-hidden bg-[#27272a] animate-pulse relative">
            <%= image_tag "gallery/#{filename}", class: "absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-500 opacity-0 transition-opacity duration-700", loading: "lazy", onload: "this.classList.remove('opacity-0'); this.parentElement.classList.remove('animate-pulse');" %>
         </div>
      <% end %>
    </div>
  </div>
</section>
<% end %>

<%# TAKE A PHOTO SECTION %>
<section class="py-24 px-6 bg-[#121212] overflow-hidden">
  <div class="max-w-7xl mx-auto grid lg:grid-cols-2 gap-20 items-center">
    <div>
      <h2 class="text-5xl font-black text-white mb-6">Redesign your exterior in seconds.</h2>
      <p class="text-xl text-neutral-400 mb-8 leading-relaxed">
         Stop imagining. Start seeing. Upload a photo of your messy backyard, mud pit, or construction site. Our AI understands depth, lighting, and architecture to generate a transformation that looks 100% real.
      </p>
      <ul class="space-y-4 mb-10">
         <li class="flex items-center gap-3 text-white font-bold">
            <svg class="w-6 h-6 text-[#00acc1]" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
            Works on phone or desktop
         </li>
         <li class="flex items-center gap-3 text-white font-bold">
            <svg class="w-6 h-6 text-[#00acc1]" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
            No complex 3D modeling required
         </li>
         <li class="flex items-center gap-3 text-white font-bold">
            <svg class="w-6 h-6 text-[#00acc1]" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
            Instant result generation
         </li>
      </ul>
      <%= link_to "Start Designing", new_user_registration_url, class: "inline-block px-8 py-4 bg-[#00acc1] text-black font-black uppercase tracking-wider rounded-lg hover:bg-[#00acc1]/90 transition-colors" %>
    </div>
    <div class="relative w-full aspect-[16/9] md:aspect-auto md:h-[500px] flex items-center justify-center">
      <%# Composition Container %>
      <div class="relative w-full h-full">

        <%# Left: Input Image (The "Before") %>
        <div class="absolute left-0 top-1/2 -translate-y-1/2 w-[45%] z-10 animate-fade-in-up">
           <div class="relative rounded-2xl overflow-hidden shadow-2xl border-4 border-white/10 bg-[#18181b] transform -rotate-3 hover:rotate-0 transition-transform duration-500">
              <%= image_tag "how_it_works/step_1_ui.webp", class: "w-full object-cover opacity-80" %>
              <%# Doodle Overlay - "Masking" effect %>
              <div class="absolute inset-0 pointer-events-none">
                 <svg class="absolute top-[20%] left-[20%] w-[60%] h-[60%] text-[#f23faf] opacity-80 drop-shadow-[0_0_5px_rgba(242,63,175,0.8)]" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-dasharray="10 10">
                    <path d="M10,50 Q30,10 50,50 T90,50" class="animate-pulse" />
                    <circle cx="50" cy="50" r="40" />
                 </svg>
                 <div class="absolute bottom-4 left-4 bg-black/60 px-3 py-1 rounded-md text-white text-xs font-mono border border-white/20">Original.jpg</div>
              </div>
           </div>
        </div>

        <%# Middle: Arrow %>
        <div class="absolute left-[40%] top-1/2 -translate-y-1/2 -translate-x-1/2 z-20 w-24 md:w-32 text-white pointer-events-none">
           <svg viewBox="0 0 100 50" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
              <path d="M10,25 Q50,0 90,25" />
              <path d="M80,15 L90,25 L80,35" />
           </svg>
        </div>

        <%# Right: Result Stack (The "After") %>
        <div class="absolute right-0 top-1/2 -translate-y-1/2 w-[50%] h-[80%] z-0">
           <%# Card 1 (Back) %>
           <div class="absolute top-0 right-0 w-full h-full transform rotate-6 scale-90 opacity-60 translate-x-12 translate-y-8 animate-blob" style="animation-delay: 0s">
              <div class="w-full h-full rounded-2xl overflow-hidden border-2 border-white/20 bg-neutral-800 shadow-xl">
                <% if @redesign_examples && @redesign_examples[1] %>
                  <%= image_tag "redesign_exterior/#{@redesign_examples[1]}", class: "w-full h-full object-cover" %>
                <% elsif @gallery_images && @gallery_images[1] %>
                   <%= image_tag "gallery/#{@gallery_images[1]}", class: "w-full h-full object-cover" %>
                <% else %>
                   <div class="w-full h-full bg-neutral-700"></div>
                <% end %>
              </div>
           </div>

           <%# Card 2 (Middle) %>
           <div class="absolute top-4 right-8 w-full h-full transform -rotate-3 scale-95 opacity-80 translate-x-6 translate-y-4 animate-blob" style="animation-delay: 2s">
              <div class="w-full h-full rounded-2xl overflow-hidden border-2 border-white/20 bg-neutral-800 shadow-xl">
                 <% if @redesign_examples && @redesign_examples[2] %>
                  <%= image_tag "redesign_exterior/#{@redesign_examples[2]}", class: "w-full h-full object-cover" %>
                 <% elsif @gallery_images && @gallery_images[2] %>
                  <%= image_tag "gallery/#{@gallery_images[2]}", class: "w-full h-full object-cover" %>
                 <% else %>
                   <div class="w-full h-full bg-neutral-700"></div>
                 <% end %>
              </div>
           </div>

           <%# Card 3 (Front - The Main Result) %>
           <div class="absolute top-8 right-16 w-full h-full transform rotate-2 hover:scale-105 transition-transform duration-500 z-30 shadow-[0_0_50px_rgba(0,172,193,0.3)]">
              <div class="w-full h-full rounded-2xl overflow-hidden border-4 border-[#00acc1] bg-[#18181b]">
                 <% if @redesign_examples && @redesign_examples[0] %>
                  <%= image_tag "redesign_exterior/#{@redesign_examples[0]}", class: "w-full h-full object-cover" %>
                 <% elsif @gallery_images && @gallery_images[0] %>
                  <%= image_tag "gallery/#{@gallery_images[0]}", class: "w-full h-full object-cover" %>
                 <% else %>
                   <div class="w-full h-full bg-neutral-700 flex items-center justify-center text-white">Result</div>
                 <% end %>
                 <div class="absolute bottom-4 right-4 bg-[#00acc1] text-black font-black px-3 py-1 rounded-full text-xs shadow-lg">Generated</div>
              </div>
           </div>
        </div>

      </div>
    </div>
  </div>
</section>

<%# FEATURE DEMOS SECTION %>
<section class="py-32 px-6 bg-[#0f0f0f] border-t border-white/5">
  <div class="max-w-7xl mx-auto space-y-32">

    <%# Feature 1: Smart Fix (Image Left, Text Right) %>
    <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
      <div class="w-full lg:w-3/5">
         <div class="rounded-3xl overflow-hidden border border-white/10 bg-[#18181b] aspect-[16/9] relative flex items-center justify-center p-8 group">
            <%# Background & Glow %>
            <div class="absolute inset-0 bg-[#00acc1]/5 group-hover:bg-[#00acc1]/10 transition-colors duration-500"></div>
            <div class="absolute -right-20 -top-20 w-64 h-64 bg-[#00acc1]/20 rounded-full blur-[100px]"></div>

            <div class="relative w-full h-full flex items-center justify-between gap-4">
               <%# Input: Masked Area %>
               <div class="w-[45%] h-[80%] rounded-xl overflow-hidden border-2 border-white/10 shadow-2xl rotate-[-2deg] relative z-10 bg-black group-hover:rotate-0 transition-transform duration-500">
                  <%= image_tag "how_it_works/step_2_ui.webp", class: "w-full h-full object-cover opacity-80" %>
                  <%# Mask Overlay %>
                  <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                     <svg class="w-16 h-16 text-[#f23faf] drop-shadow-[0_0_10px_rgba(242,63,175,0.8)]" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="4">
                        <path d="M20,50 Q50,20 80,50 Q50,80 20,50" stroke-dasharray="8 4" class="animate-pulse" />
                     </svg>
                  </div>
               </div>

               <%# Doodle: Arrow/Edit %>
               <div class="absolute inset-0 flex items-center justify-center z-20 pointer-events-none">
                  <svg class="w-20 h-20 text-white drop-shadow-xl" viewBox="0 0 100 50" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                     <path d="M10,25 Q50,5 90,25" />
                     <path d="M80,15 L90,25 L80,35" />
                     <text x="35" y="45" font-family="monospace" font-size="12" fill="white" stroke="none">"Remove shed"</text>
                  </svg>
               </div>

               <%# Output: Result %>
               <div class="w-[45%] h-[80%] rounded-xl overflow-hidden border-2 border-[#00acc1] shadow-2xl rotate-[2deg] relative z-10 bg-[#18181b] group-hover:rotate-0 transition-transform duration-500">
                  <%= image_tag "smart_fix/result.webp", class: "w-full h-full object-cover" %>
                  <div class="absolute bottom-4 right-4 bg-[#00acc1] text-black font-black px-3 py-1 rounded text-xs shadow-lg">Edited</div>
               </div>
            </div>
         </div>
      </div>
      <div class="w-full lg:w-2/5">
         <div class="bg-[#27272a] text-[#00acc1] font-bold px-4 py-1.5 rounded-full text-sm w-fit mb-6">Precision Control</div>
         <h3 class="text-4xl md:text-5xl font-black text-white mb-6 leading-tight">Don't just generate. <span class="text-[#00acc1]">Edit.</span></h3>
         <p class="text-xl text-neutral-400 leading-relaxed">Most AI tools just give you a pretty picture you can't change. Hadaa uses <b>Semantic In-Painting</b> to let you mask specific areas. Remove that old shed, keep the oak tree, change the paving capabilitiesâ€”all with simple text commands.</p>
      </div>
    </div>

    <%# Feature 2: Auto Fix (Image Right, Text Left) %>
    <div class="flex flex-col lg:flex-row-reverse items-center gap-12 lg:gap-20">
      <div class="w-full lg:w-3/5">
         <div class="rounded-3xl overflow-hidden border border-white/10 bg-[#18181b] aspect-[16/9] relative flex items-center justify-center p-8 group">
            <%# Background Grid %>
            <div class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:30px_30px]"></div>
            <div class="absolute -left-20 -bottom-20 w-64 h-64 bg-[#f23faf]/20 rounded-full blur-[100px]"></div>

            <div class="relative w-full h-full flex items-center justify-between gap-4">
               <%# Input: Muddy Yard %>
               <div class="w-[45%] h-[80%] rounded-xl overflow-hidden border-2 border-white/10 shadow-2xl rotate-[2deg] relative z-10 bg-black group-hover:rotate-0 transition-transform duration-500">
                  <%= image_tag "how_it_works/step_1_ui.webp", class: "w-full h-full object-cover grayscale opacity-80" %>
                  <div class="absolute top-4 left-4 bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded">Issues Detected</div>
               </div>

               <%# Doodle: Sparkles %>
               <div class="absolute inset-0 flex items-center justify-center z-20 pointer-events-none">
                  <svg class="w-24 h-24 text-[#f23faf] drop-shadow-xl animate-pulse" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                     <path d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" />
                     <path d="M16 16l2 2 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white" transform="translate(4,4) scale(0.5)" />
                  </svg>
               </div>

               <%# Output: Diagnostics List %>
               <div class="w-[45%] h-[90%] rounded-xl overflow-hidden border-2 border-[#f23faf] shadow-2xl rotate-[-2deg] relative z-10 bg-[#27272a] group-hover:rotate-0 transition-transform duration-500">
                   <%= image_tag "features/technical_inputs_ui.webp", class: "w-full h-full object-cover" %>
                   <%# Highlight Overlay %>
                   <div class="absolute top-10 left-4 right-4 h-3 bg-[#f23faf]/30 rounded"></div>
                   <div class="absolute top-20 left-4 right-8 h-3 bg-[#f23faf]/30 rounded"></div>
                   <div class="absolute bottom-4 right-4 bg-[#f23faf] text-white font-bold px-3 py-1 rounded text-xs shadow-lg">Fix Applied</div>
               </div>
            </div>
         </div>
      </div>
      <div class="w-full lg:w-2/5">
         <div class="bg-[#27272a] text-[#f23faf] font-bold px-4 py-1.5 rounded-full text-sm w-fit mb-6">Intelligent Diagnostics</div>
         <h3 class="text-4xl md:text-5xl font-black text-white mb-6 leading-tight">Diagnose & Repair <span class="text-[#f23faf]">Instantly.</span></h3>
         <p class="text-xl text-neutral-400 leading-relaxed">Hadaa doesn't just redesign; it finds landscaping issuesâ€”like poor drainage, muddy patches, or sickly lawnsâ€”lists them for you, and applies professional fixes with a single click.</p>
      </div>
    </div>

    <%# Feature 3: Planting Guide (Image Left, Text Right) %>
    <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
      <div class="w-full lg:w-3/5">
         <div class="rounded-3xl overflow-hidden border border-white/10 bg-[#18181b] aspect-[16/9] relative flex items-center justify-center p-8 group">
            <div class="absolute inset-0 bg-green-500/5 group-hover:bg-green-500/10 transition-colors duration-500"></div>
            <div class="absolute -right-20 -bottom-20 w-64 h-64 bg-green-500/20 rounded-full blur-[100px]"></div>

            <div class="relative w-full h-full flex items-center justify-between gap-4">
               <%# Input: Design %>
               <div class="w-[45%] h-[80%] rounded-xl overflow-hidden border-2 border-white/10 shadow-2xl rotate-[-2deg] relative z-10 bg-black group-hover:rotate-0 transition-transform duration-500">
                  <%= image_tag "how_it_works/step_4_ui.webp", class: "w-full h-full object-cover" %>
               </div>

               <%# Doodle: Leaf/Arrow %>
               <div class="absolute inset-0 flex items-center justify-center z-20 pointer-events-none">
                   <svg class="w-20 h-20 text-green-400 drop-shadow-xl" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                     <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" stroke-width="3" />
                     <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v18" opacity="0.2" />
                   </svg>
               </div>

               <%# Output: Shopping List %>
               <div class="w-[45%] h-[90%] rounded-xl overflow-hidden border-2 border-green-500 shadow-2xl rotate-[2deg] relative z-10 bg-white group-hover:rotate-0 transition-transform duration-500">
                   <%= image_tag "features/shopping_list_ui_v2.webp", class: "w-full h-full object-cover" %>
                   <div class="absolute bottom-4 right-4 bg-green-600 text-white font-bold px-3 py-1 rounded text-xs shadow-lg">Shopping List</div>
               </div>
            </div>
         </div>
      </div>
      <div class="w-full lg:w-2/5">
         <div class="bg-[#27272a] text-green-400 font-bold px-4 py-1.5 rounded-full text-sm w-fit mb-6">Execution Ready</div>
         <h3 class="text-4xl md:text-5xl font-black text-white mb-6 leading-tight">It's not a picture. <span class="text-green-400">It's a plan.</span></h3>
         <p class="text-xl text-neutral-400 leading-relaxed">The only AI that knows biology. Hadaa identifies your hardiness zone and generates a <b>Shopping List</b> of local, native plants that will actually survive in your climate.</p>
      </div>
    </div>

  </div>
</section>

<%# COMPARISON TABLE %>
<section class="py-32 px-6 bg-black text-white relative overflow-hidden">
  <%# Background Ambient %>
  <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-[#00acc1]/5 rounded-full blur-[120px] pointer-events-none"></div>

  <div class="max-w-7xl mx-auto">
    <div class="grid lg:grid-cols-12 gap-12 lg:gap-24 items-start">

      <%# Left: Headline %>
      <div class="lg:col-span-5 sticky top-32">
        <span class="text-[#00acc1] font-bold tracking-widest uppercase text-sm mb-6 block">The Hadaa Standard</span>
        <h2 class="text-5xl md:text-6xl lg:text-7xl font-serif font-medium leading-[1.1] mb-8 text-neutral-100">
          Beauty is common.<br>
          <span class="text-neutral-500">Viability is rare.</span>
        </h2>
        <div class="h-1 w-20 bg-[#00acc1]"></div>
      </div>

      <%# Right: Rich Text Content %>
      <div class="lg:col-span-7 space-y-16">

        <%# Block 1 %>
        <div class="group">
           <h3 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
             <span class="w-8 h-8 rounded-full border border-white/20 flex items-center justify-center text-xs text-[#00acc1]">01</span>
             Botany before Pixels.
           </h3>
           <p class="text-xl text-neutral-400 font-light leading-relaxed">
             Generic AI models treat plants as green noise. They hallucinate tropical palms in Alaska and thirsty ferns in the desert.
             <strong class="text-neutral-200">Hadaa is engineered on biological constraints.</strong>
             Our engine continuously cross-references your geolocation with USDA Hardiness Zone maps, ensuring that every digitally planted seed can actually survive in your soil. We don't just generate a vision; we generate an ecosystem.
           </p>
        </div>

        <%# Block 2 %>
        <div class="group">
           <h3 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
             <span class="w-8 h-8 rounded-full border border-white/20 flex items-center justify-center text-xs text-[#00acc1]">02</span>
             From Dream to Digging.
           </h3>
           <p class="text-xl text-neutral-400 font-light leading-relaxed">
             A render without dimensions is just a hallucination. Contractors can't quote a "vibe." They need hard data.
             Hadaa bridges the gap between imagination and installation by generating <strong class="text-neutral-200">construction-ready specifications</strong>.
             We distinguish between stamped concrete and bluestone pavers, calculating rough square footage and material costs instantly.
           </p>
        </div>

        <%# Block 3 %>
        <div class="group">
           <h3 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
             <span class="w-8 h-8 rounded-full border border-white/20 flex items-center justify-center text-xs text-[#00acc1]">03</span>
             Non-Destructive Creativity.
           </h3>
           <p class="text-xl text-neutral-400 font-light leading-relaxed">
             True design is iterative. Itâ€™s a conversation, not a command. Unlike "one-shot" image generators that force you to re-roll the entire dice, Hadaa offers <strong class="text-neutral-200">surgical precision</strong>.
             Mask out a single tree. Change the siding but keep the porch. Our layer-aware synthesis respects the geometry of your home while giving you total plasticity over the landscape.
           </p>
        </div>

      </div>
    </div>
  </div>
</section>

<%# COMPARISON SECTION (Cards) %>
<section class="py-32 px-6 bg-[#121212]">
  <div class="max-w-7xl mx-auto">
    <div class="text-center mb-20">
      <h2 class="text-4xl md:text-5xl font-black text-white mb-6">Not all AI is created equal.</h2>
      <p class="text-neutral-400 text-xl max-w-2xl mx-auto">Don't settle for blurry hallucinations. See why professionals choose Hadaa over generic image generators.</p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
      <%# Hadaa Card (Winner) %>
      <div class="relative bg-[#18181b] border-2 border-[#00acc1] rounded-3xl p-6 shadow-[0_0_40px_rgba(0,172,193,0.15)] flex flex-col transform hover:-translate-y-2 transition-transform duration-300 z-10">
         <div class="absolute -top-4 inset-x-0 flex justify-center"><span class="bg-[#00acc1] text-black font-black text-xs uppercase px-3 py-1 rounded-full tracking-widest shadow-lg">Recommended</span></div>
         <div class="mb-8 border-b border-white/10 pb-6">
            <h3 class="text-2xl font-black text-white mb-2">Hadaa AI</h3>
            <p class="text-[#00acc1] font-bold text-sm">Professional Grade</p>
         </div>
         <ul class="space-y-4 mb-8 flex-1">
            <li class="flex items-start gap-3">
               <svg class="w-5 h-5 text-[#00acc1] mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
               <div><span class="text-white font-bold block">Cinema Photorealism</span><span class="text-neutral-500 text-xs">Flux/Midjourney Quality</span></div>
            </li>
            <li class="flex items-start gap-3">
               <svg class="w-5 h-5 text-[#00acc1] mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
               <div><span class="text-white font-bold block">Auto-Detect Fixes</span><span class="text-neutral-500 text-xs">Diagnoses issues instantly</span></div>
            </li>
            <li class="flex items-start gap-3">
               <svg class="w-5 h-5 text-[#00acc1] mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
               <div><span class="text-white font-bold block">AI Assistive Toggles</span><span class="text-neutral-500 text-xs">Precision In-Painting</span></div>
            </li>
            <li class="flex items-start gap-3">
               <svg class="w-5 h-5 text-[#00acc1] mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
               <div><span class="text-white font-bold block">Construction Docs</span><span class="text-neutral-500 text-xs">BOQ & Measurements</span></div>
            </li>
         </ul>
         <button class="w-full py-3 rounded-xl bg-[#00acc1] text-black font-black hover:bg-[#00acc1]/90 transition-colors">Start Designing</button>
      </div>

      <%# Competitor 1: Neighbor Brite %>
      <div class="bg-[#18181b]/50 border border-white/5 rounded-3xl p-6 flex flex-col hover:bg-[#18181b] transition-colors duration-300">
         <div class="mb-8 border-b border-white/5 pb-6">
            <h3 class="text-xl font-bold text-neutral-400 mb-2">Neighbor Brite</h3>
            <p class="text-neutral-600 font-bold text-sm">Consumer App</p>
         </div>
         <ul class="space-y-4 mb-8 flex-1 opacity-60">
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">Basic Resolution</span><span class="text-xs">Cartoonish Output</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">No Diagnostics</span><span class="text-xs">Manual painting only</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">Global Filters Only</span><span class="text-xs">Can't mask specific items</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">No Specs</span><span class="text-xs">Just pretty pictures</span></div>
            </li>
         </ul>
      </div>

      <%# Competitor 2: REimagineHome %>
      <div class="bg-[#18181b]/50 border border-white/5 rounded-3xl p-6 flex flex-col hover:bg-[#18181b] transition-colors duration-300">
         <div class="mb-8 border-b border-white/5 pb-6">
            <h3 class="text-xl font-bold text-neutral-400 mb-2">REimagineHome</h3>
            <p class="text-neutral-600 font-bold text-sm">Real Estate Staging</p>
         </div>
         <ul class="space-y-4 mb-8 flex-1 opacity-60">
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-yellow-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
               <div><span class="font-bold block">Decent Quality</span><span class="text-xs">Inconsistent Lighting</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">No Diagnostics</span><span class="text-xs">Styles over substance</span></div>
            </li>
             <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-yellow-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
               <div><span class="font-bold block">Limited Controls</span><span class="text-xs">Broad brush approach</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">No Specs</span><span class="text-xs">Image only</span></div>
            </li>
         </ul>
      </div>

       <%# Competitor 3: HomeDesigns.ai %>
       <div class="bg-[#18181b]/50 border border-white/5 rounded-3xl p-6 flex flex-col hover:bg-[#18181b] transition-colors duration-300">
         <div class="mb-8 border-b border-white/5 pb-6">
            <h3 class="text-xl font-bold text-neutral-400 mb-2">HomeDesigns.ai</h3>
            <p class="text-neutral-600 font-bold text-sm">General Purpose</p>
         </div>
         <ul class="space-y-4 mb-8 flex-1 opacity-60">
             <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-neutral-500 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
               <div><span class="font-bold block">Good Quality</span><span class="text-xs">Often hallucinates structures</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">No Diagnostics</span><span class="text-xs">Visuals only</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-neutral-500 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
               <div><span class="font-bold block">Standard Toggles</span><span class="text-xs">Basic masking</span></div>
            </li>
            <li class="flex items-start gap-3 text-neutral-500">
               <svg class="w-5 h-5 text-red-500/50 mt-1 shrink-0" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
               <div><span class="font-bold block">No Specs</span><span class="text-xs">No biological engine</span></div>
            </li>
         </ul>
      </div>

    </div>
  </div>
</section>

<%# FAQ SECTION (Accordion) %>
<% if @faqs.any? %>
<section class="py-32 px-6 bg-[#0f0f0f] border-t border-white/5">
   <div class="max-w-7xl mx-auto">
      <div class="grid lg:grid-cols-2 gap-20 items-start">
         <%# Left Column: Sticky Image/Visual %>
         <div class="hidden lg:block sticky top-32">
            <div class="relative rounded-3xl overflow-hidden shadow-2xl border border-white/10 group">
               <%= image_tag "home/home_design.webp", class: "w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105" %>
               <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
               <div class="absolute bottom-8 left-8 max-w-xs">
                  <h3 class="text-3xl font-black text-white mb-2 leading-tight">Got Questions?</h3>
                  <p class="text-neutral-400 font-medium">We've got the answers. Learn how Hadaa helps you build faster.</p>
               </div>
            </div>
            <%# Decorative Element %>
            <div class="absolute -z-10 -left-10 -bottom-10 w-full h-full border-2 border-white/5 rounded-3xl"></div>
         </div>

         <%# Right Column: FAQ Accordion %>
         <div>
            <h2 class="text-4xl md:text-5xl font-black mb-12 text-white">Frequently Asked Questions</h2>
            <div class="space-y-4">
               <% @faqs.each do |faq| %>
                  <details class="group bg-[#18181b] rounded-2xl border border-white/5 open:border-[#00acc1]/50 open:bg-[#1f2024] transition-all duration-300">
                     <summary class="flex items-center justify-between p-6 cursor-pointer list-none">
                        <span class="font-bold text-lg text-neutral-300 group-hover:text-white transition-colors pr-6"><%= faq[:q] %></span>
                        <div class="relative w-6 h-6 flex items-center justify-center">
                           <div class="absolute w-4 h-0.5 bg-white transition-transform duration-300 group-open:rotate-180"></div>
                           <div class="absolute w-4 h-0.5 bg-white rotate-90 transition-transform duration-300 group-open:rotate-180 group-open:opacity-0"></div>
                        </div>
                     </summary>
                     <div class="px-6 pb-6 text-neutral-400 leading-relaxed animate-fade-in-down border-t border-white/5 mt-0 pt-4">
                        <p><%= faq[:a].html_safe %></p>
                     </div>
                  </details>
               <% end %>
            </div>
            <div class="mt-12">
               <%= link_to "View Full FAQ", "/faq", class: "inline-flex items-center gap-2 text-[#00acc1] font-bold hover:text-white transition-colors group" %>
               <span class="inline-block transition-transform group-hover:translate-x-1">â†’</span>
            </div>
         </div>
      </div>
   </div>
</section>
<% end %>

<style>
  .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
  .animate-fade-in-down { animation: fadeInDown 0.3s ease-out forwards; }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeInDown {
     from { opacity: 0; transform: translateY(-10px); }
     to { opacity: 1; transform: translateY(0); }
  }
</style>
